import{g as R,a as _,r as m,s as D,B as ce,M as de,c as w,_ as h,P as B,u as H,b as pe,d as F,e as xe,j as e,f as T,h as I,F as he,T as c,i as J,k as P,l as Q,m as C,C as ge,n as me,o as ue,p as be}from"./index-B0EjU0T6.js";import{C as Z,T as v}from"./TablePagination-VZ1R5CT1.js";import{C as A,a as N,G as y}from"./Tooltip-CBTafY2m.js";import{D as fe}from"./DataGrid-DhTIfSs2.js";import{A as ve}from"./Avatar-MQ8VTHL7.js";import{T as ye,a as je,b as Ce,c as V,d as De}from"./TableRow-Dca3STHF.js";import{B as q}from"./TextField-DerlLcSb.js";import"./Select-BU8TMG6z.js";import"./Popper-DGTkPrL7.js";import"./useSlot-B2tjbNde.js";import"./Close-u73Ees4k.js";function ke(r){return _("MuiDialog",r)}const G=R("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ee=m.createContext({}),Se=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],We=D(ce,{name:"MuiDialog",slot:"Backdrop",overrides:(r,t)=>t.backdrop})({zIndex:-1}),we=r=>{const{classes:t,scroll:a,maxWidth:s,fullWidth:p,fullScreen:d}=r,g={root:["root"],container:["container",`scroll${w(a)}`],paper:["paper",`paperScroll${w(a)}`,`paperWidth${w(String(s))}`,p&&"paperFullWidth",d&&"paperFullScreen"]};return I(g,ke,t)},Te=D(de,{name:"MuiDialog",slot:"Root",overridesResolver:(r,t)=>t.root})({"@media print":{position:"absolute !important"}}),Me=D("div",{name:"MuiDialog",slot:"Container",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.container,t[`scroll${w(a.scroll)}`]]}})(({ownerState:r})=>h({height:"100%","@media print":{height:"auto"},outline:0},r.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},r.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),$e=D(B,{name:"MuiDialog",slot:"Paper",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.paper,t[`scrollPaper${w(a.scroll)}`],t[`paperWidth${w(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})(({theme:r,ownerState:t})=>h({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:r.breakpoints.unit==="px"?Math.max(r.breakpoints.values.xs,444):`max(${r.breakpoints.values.xs}${r.breakpoints.unit}, 444px)`,[`&.${G.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`,[`&.${G.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${G.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Pe=m.forwardRef(function(t,a){const s=H({props:t,name:"MuiDialog"}),p=pe(),d={enter:p.transitions.duration.enteringScreen,exit:p.transitions.duration.leavingScreen},{"aria-describedby":g,"aria-labelledby":x,BackdropComponent:u,BackdropProps:b,children:M,className:k,disableEscapeKeyDown:n=!1,fullScreen:S=!1,fullWidth:f=!1,maxWidth:l="sm",onBackdropClick:j,onClick:K,onClose:U,open:O,PaperComponent:re=B,PaperProps:Y={},scroll:te="paper",TransitionComponent:oe=he,transitionDuration:X=d,TransitionProps:ae}=s,se=F(s,Se),$=h({},s,{disableEscapeKeyDown:n,fullScreen:S,fullWidth:f,maxWidth:l,scroll:te}),z=we($),E=m.useRef(),ie=W=>{E.current=W.target===W.currentTarget},ne=W=>{K&&K(W),E.current&&(E.current=null,j&&j(W),U&&U(W,"backdropClick"))},L=xe(x),le=m.useMemo(()=>({titleId:L}),[L]);return e.jsx(Te,h({className:T(z.root,k),closeAfterTransition:!0,components:{Backdrop:We},componentsProps:{backdrop:h({transitionDuration:X,as:u},b)},disableEscapeKeyDown:n,onClose:U,open:O,ref:a,onClick:ne,ownerState:$},se,{children:e.jsx(oe,h({appear:!0,in:O,timeout:X,role:"presentation"},ae,{children:e.jsx(Me,{className:T(z.container),onMouseDown:ie,ownerState:$,children:e.jsx($e,h({as:re,elevation:24,role:"dialog","aria-describedby":g,"aria-labelledby":L},Y,{className:T(z.paper,Y.className),ownerState:$,children:e.jsx(ee.Provider,{value:le,children:M})}))})}))}))});function Ae(r){return _("MuiDialogActions",r)}R("MuiDialogActions",["root","spacing"]);const Ne=["className","disableSpacing"],Re=r=>{const{classes:t,disableSpacing:a}=r;return I({root:["root",!a&&"spacing"]},Ae,t)},_e=D("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.root,!a.disableSpacing&&t.spacing]}})(({ownerState:r})=>h({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!r.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Be=m.forwardRef(function(t,a){const s=H({props:t,name:"MuiDialogActions"}),{className:p,disableSpacing:d=!1}=s,g=F(s,Ne),x=h({},s,{disableSpacing:d}),u=Re(x);return e.jsx(_e,h({className:T(u.root,p),ownerState:x,ref:a},g))});function He(r){return _("MuiDialogContent",r)}R("MuiDialogContent",["root","dividers"]);function Fe(r){return _("MuiDialogTitle",r)}const Ie=R("MuiDialogTitle",["root"]),Ue=["className","dividers"],ze=r=>{const{classes:t,dividers:a}=r;return I({root:["root",a&&"dividers"]},He,t)},Ee=D("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.root,a.dividers&&t.dividers]}})(({theme:r,ownerState:t})=>h({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}:{[`.${Ie.root} + &`]:{paddingTop:0}})),Le=m.forwardRef(function(t,a){const s=H({props:t,name:"MuiDialogContent"}),{className:p,dividers:d=!1}=s,g=F(s,Ue),x=h({},s,{dividers:d}),u=ze(x);return e.jsx(Ee,h({className:T(u.root,p),ownerState:x,ref:a},g))}),Ge=["className","id"],Ke=r=>{const{classes:t}=r;return I({root:["root"]},Fe,t)},Oe=D(c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(r,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ye=m.forwardRef(function(t,a){const s=H({props:t,name:"MuiDialogTitle"}),{className:p,id:d}=s,g=F(s,Ge),x=s,u=Ke(x),{titleId:b=d}=m.useContext(ee);return e.jsx(Oe,h({component:"h2",className:T(u.root,p),ownerState:x,ref:a,variant:"h6",id:d??b},g))}),i={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",yellow:"#facc15",red:"#ef4444",team1:"rgba(222, 108, 44, 0.12)",team1Hover:"rgba(222, 108, 44, 0.2)",team2:"rgba(74, 222, 128, 0.08)",team2Hover:"rgba(74, 222, 128, 0.15)"},Xe=({matchId:r,url:t})=>{var k,n,S,f;const a=J(),s=P(l=>l.stats.match);if(m.useEffect(()=>{r&&t&&a(Q(r,t))},[a,r,t]),!s||!s.player_scores)return e.jsx(C,{sx:{p:3,textAlign:"center"},children:e.jsx(c,{sx:{color:i.textSecondary},children:"Loading match stats..."})});const p=((k=s.player_scores[0])==null?void 0:k.team)??"Team 1",d=((n=s.player_scores[9])==null?void 0:n.team)??"Team 2",g=((S=s.player_scores[0])==null?void 0:S.team_rounds)??0,x=((f=s.player_scores[9])==null?void 0:f.team_rounds)??0,u=[{field:"avatar",headerName:"",width:50,sortable:!1,display:"flex",renderCell:l=>{var j;return e.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:e.jsx(ve,{src:l.value,alt:l.row.nickname,variant:"rounded",sx:{width:28,height:28,bgcolor:i.bgHover},children:(j=l.row.nickname)==null?void 0:j.charAt(0)})})}},{field:"nickname",headerName:"Nickname",flex:1,minWidth:120,renderCell:l=>e.jsx(C,{sx:{display:"flex",alignItems:"center",height:"100%",overflow:"hidden"},children:e.jsx(c,{fontWeight:"bold",variant:"body2",noWrap:!0,title:l.value,sx:{color:i.textPrimary},children:l.value})})},{field:"kills",headerName:"K",type:"number",width:50,align:"center",headerAlign:"center"},{field:"assists",headerName:"A",type:"number",width:50,align:"center",headerAlign:"center"},{field:"deaths",headerName:"D",type:"number",width:50,align:"center",headerAlign:"center"},{field:"hs_percent",headerName:"HS%",type:"number",width:60,align:"center",headerAlign:"center",valueFormatter:l=>`${l}%`},{field:"kd",headerName:"K/D",type:"number",width:60,align:"center",headerAlign:"center",valueFormatter:l=>l?parseFloat(l).toFixed(2):"0.00"},{field:"ud",headerName:"UD",type:"number",width:60,align:"center",headerAlign:"center"},{field:"adr",headerName:"ADR",type:"number",width:60,align:"center",headerAlign:"center"},{field:"faceit_elo",headerName:"Elo",type:"number",width:60,align:"center",headerAlign:"center"},{field:"rrating",headerName:"Rating",type:"number",width:80,align:"center",headerAlign:"center",renderCell:l=>e.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(ge,{label:l.value,size:"small",sx:{fontWeight:"bold",height:24,bgcolor:l.value>=1.2?i.green:l.value>=1?i.yellow:"transparent",color:l.value>=1?i.bgDark:i.textSecondary,border:l.value<1?`1px solid ${i.border}`:"none"}})})}],b=l=>l.row.team_id===2?"team-row-1":l.row.team_id===3?"team-row-2":"",M=s.player_scores.map((l,j)=>({id:j,...l}));return e.jsxs(Z,{maxWidth:"md",sx:{mt:3,mb:3},children:[e.jsx(A,{sx:{mb:3,background:`linear-gradient(135deg, ${i.bgCard} 0%, ${i.bgDark} 100%)`,border:`1px solid ${i.border}`},children:e.jsx(N,{children:e.jsxs(y,{container:!0,alignItems:"center",justifyContent:"center",children:[e.jsxs(y,{item:!0,xs:12,sm:4,sx:{textAlign:{xs:"center",sm:"right"},pr:{sm:2},mb:{xs:1,sm:0}},children:[e.jsx(c,{variant:"h5",fontWeight:"bold",noWrap:!0,sx:{color:i.accent},children:p}),e.jsx(c,{variant:"subtitle2",sx:{color:i.textSecondary},children:"Team 1"})]}),e.jsx(y,{item:!0,xs:12,sm:4,sx:{textAlign:"center",mb:{xs:1,sm:0}},children:e.jsx(C,{sx:{bgcolor:"rgba(255,255,255,0.05)",border:`1px solid ${i.border}`,px:4,py:1,minWidth:140,display:"inline-block"},children:e.jsxs(c,{variant:"h3",fontWeight:"bold",sx:{color:i.textPrimary},children:[g," : ",x]})})}),e.jsxs(y,{item:!0,xs:12,sm:4,sx:{textAlign:{xs:"center",sm:"left"},pl:{sm:2}},children:[e.jsx(c,{variant:"h5",fontWeight:"bold",noWrap:!0,sx:{color:i.green},children:d}),e.jsx(c,{variant:"subtitle2",sx:{color:i.textSecondary},children:"Team 2"})]})]})})}),e.jsx(B,{sx:{width:"100%",bgcolor:i.bgCard,border:`1px solid ${i.border}`,"& .team-row-1":{bgcolor:i.team1},"& .team-row-1:hover":{bgcolor:i.team1Hover},"& .team-row-2":{bgcolor:i.team2},"& .team-row-2:hover":{bgcolor:i.team2Hover}},children:e.jsx(fe,{rows:M,columns:u,getRowClassName:b,hideFooter:!0,density:"compact",autoHeight:!0,disableRowSelectionOnClick:!0,initialState:{sorting:{sortModel:[{field:"rrating",sort:"desc"}]}},sx:{border:0,color:i.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${i.border}`},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.bgDark,fontWeight:"bold",textTransform:"uppercase",fontSize:"0.75rem",color:i.textSecondary}}})})]})},o={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},ir=()=>{const r=J(),[t,a]=m.useState(null),[s,p]=m.useState(!1),d=P(n=>n.stats.matches),g=P(n=>n.stats.players),x=P(n=>n.stats.months);m.useEffect(()=>{r(me()),r(ue()),r(be())},[r]);const u=n=>{a(n),r(Q(n.matchId,n.url)),p(!0)},b=()=>{p(!1),a(null)},M=n=>{const S=/team_(.*?)_vs_team_(.*?)(?=\.)/,f=n.match(S);return f?`${f[1]} vs ${f[2]}`:"Unknown Teams"},k=n=>{n.stopPropagation()};return e.jsx(C,{sx:{minHeight:"100vh",bgcolor:o.bgDark,color:o.textPrimary,pb:4},children:e.jsxs(Z,{maxWidth:"xl",sx:{pt:4},children:[e.jsxs(C,{sx:{mb:4},children:[e.jsx(c,{variant:"overline",sx:{color:o.accent,letterSpacing:3,fontWeight:"bold"},children:"INHOUSE STATS"}),e.jsx(c,{variant:"h3",sx:{fontWeight:800,color:o.textPrimary},children:"Rakkauden Kanaali"})]}),e.jsxs(y,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(y,{item:!0,xs:12,sm:4,children:e.jsx(A,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(N,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Matches"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:d.length})]})})}),e.jsx(y,{item:!0,xs:12,sm:4,children:e.jsx(A,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(N,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Players"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:g.length})]})})}),e.jsx(y,{item:!0,xs:12,sm:4,children:e.jsx(A,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(N,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Months"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:x.length-1})]})})})]}),e.jsx(c,{variant:"overline",sx:{color:o.accent,letterSpacing:2,fontWeight:600,mb:2,display:"block"},children:"MATCH HISTORY"}),e.jsx(ye,{component:B,sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(je,{children:[e.jsx(Ce,{children:e.jsxs(V,{sx:{bgcolor:o.bgDark},children:[e.jsx(v,{sx:{color:o.textSecondary},children:"Date"}),e.jsx(v,{sx:{color:o.textSecondary},children:"Teams"}),e.jsx(v,{sx:{color:o.textSecondary},children:"Map"}),e.jsx(v,{sx:{color:o.textSecondary},children:"Demo"})]})}),e.jsx(De,{children:d.map(n=>e.jsxs(V,{onClick:()=>u(n),sx:{cursor:"pointer","&:hover":{bgcolor:o.bgHover}},children:[e.jsx(v,{sx:{color:o.textPrimary},children:n.date}),e.jsx(v,{sx:{color:o.textPrimary,fontWeight:600},children:M(n.url)}),e.jsx(v,{sx:{color:o.textSecondary},children:n.map}),e.jsx(v,{children:e.jsx(q,{variant:"contained",size:"small",href:n.demo_url,download:!0,onClick:k,sx:{bgcolor:o.accent,"&:hover":{bgcolor:"#ff7c3c"}},children:"Download"})})]},n.matchId))})]})}),e.jsxs(Pe,{open:s,onClose:b,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`}},children:[e.jsx(Ye,{sx:{color:o.accent,textTransform:"uppercase",letterSpacing:2},children:"Match Details"}),e.jsx(Le,{children:t?e.jsx(Xe,{matchId:t.matchId,url:t.url}):e.jsx(c,{variant:"body1",sx:{color:o.textSecondary},children:"Loading match details..."})}),e.jsx(Be,{sx:{borderTop:`1px solid ${o.border}`},children:e.jsx(q,{onClick:b,sx:{color:o.accent},children:"Close"})})]})]})})};export{ir as default};
