import{r as d,g as me,a as Se,s as Z,w as Fe,c as be,_ as k,u as je,d as de,f as X,j as t,h as ye,x as Zt,y as vt,z as mt,A as St,C as Re,b as er,D as De,E as tr,G as rr,P as U,T as S,n as P,t as xe,H as or,I as oe,J as ne,k as jt,K as He,l as dt,L as nr,N as lr,O as ir,F as ar}from"./index-k9pw8wb6.js";import{R as yt,X as Ct,Y as wt,T as Mt,z as Bt,B as ke,G as sr}from"./generateCategoricalChart-_9WttMVf.js";import{B as $t}from"./BarChart-CjHNEaWB.js";import{K as cr,f as dr,g as Me,G as O,F as Ne,I as Ae,S as _e,D as ze,b as Tt,c as Rt,h as Te,d as Ie,i as ur,C as ut}from"./DataGrid-Ct7AcCuJ.js";import{A as ve}from"./Avatar-DBzc-EJI.js";let he;function kt(){if(he)return he;const e=document.createElement("div"),r=document.createElement("div");return r.style.width="10px",r.style.height="1px",e.appendChild(r),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),he="reverse",e.scrollLeft>0?he="default":(e.scrollLeft=1,e.scrollLeft===0&&(he="negative")),document.body.removeChild(e),he}function hr(e,r){const l=e.scrollLeft;if(r!=="rtl")return l;switch(kt()){case"negative":return e.scrollWidth-e.clientWidth+l;case"reverse":return e.scrollWidth-e.clientWidth-l;default:return l}}function fr(e){return d.Children.toArray(e).filter(r=>d.isValidElement(r))}function xr(e){return Se("MuiTab",e)}const re=me("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),br=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],pr=e=>{const{classes:r,textColor:l,fullWidth:u,wrapped:x,icon:n,label:b,selected:a,disabled:s}=e,p={root:["root",n&&b&&"labelIcon",`textColor${be(l)}`,u&&"fullWidth",x&&"wrapped",a&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]};return ye(p,xr,r)},gr=Z(Fe,{name:"MuiTab",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,l.label&&l.icon&&r.labelIcon,r[`textColor${be(l.textColor)}`],l.fullWidth&&r.fullWidth,l.wrapped&&r.wrapped,{[`& .${re.iconWrapper}`]:r.iconWrapper}]}})(({theme:e,ownerState:r})=>k({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},r.label&&{flexDirection:r.iconPosition==="top"||r.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},r.icon&&r.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${re.iconWrapper}`]:k({},r.iconPosition==="top"&&{marginBottom:6},r.iconPosition==="bottom"&&{marginTop:6},r.iconPosition==="start"&&{marginRight:e.spacing(1)},r.iconPosition==="end"&&{marginLeft:e.spacing(1)})},r.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${re.selected}`]:{opacity:1},[`&.${re.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},r.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${re.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${re.disabled}`]:{color:(e.vars||e).palette.text.disabled}},r.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${re.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${re.disabled}`]:{color:(e.vars||e).palette.text.disabled}},r.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},r.wrapped&&{fontSize:e.typography.pxToRem(12)})),Be=d.forwardRef(function(r,l){const u=je({props:r,name:"MuiTab"}),{className:x,disabled:n=!1,disableFocusRipple:b=!1,fullWidth:a,icon:s,iconPosition:p="top",indicator:m,label:B,onChange:$,onClick:j,onFocus:z,selected:I,selectionFollowsFocus:h,textColor:L="inherit",value:o,wrapped:i=!1}=u,c=de(u,br),y=k({},u,{disabled:n,disableFocusRipple:b,selected:I,icon:!!s,iconPosition:p,label:!!B,fullWidth:a,textColor:L,wrapped:i}),_=pr(y),v=s&&B&&d.isValidElement(s)?d.cloneElement(s,{className:X(_.iconWrapper,s.props.className)}):s,T=w=>{!I&&$&&$(w,o),j&&j(w)},D=w=>{h&&!I&&$&&$(w,o),z&&z(w)};return t.jsxs(gr,k({focusRipple:!b,className:X(_.root,x),ref:l,role:"tab","aria-selected":I,disabled:n,onClick:T,onFocus:D,ownerState:y,tabIndex:I?0:-1},c,{children:[p==="top"||p==="start"?t.jsxs(d.Fragment,{children:[v,B]}):t.jsxs(d.Fragment,{children:[B,v]}),m]}))});function vr(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function mr(e,r,l,u={},x=()=>{}){const{ease:n=vr,duration:b=300}=u;let a=null;const s=r[e];let p=!1;const m=()=>{p=!0},B=$=>{if(p){x(new Error("Animation cancelled"));return}a===null&&(a=$);const j=Math.min(1,($-a)/b);if(r[e]=n(j)*(l-s)+s,j>=1){requestAnimationFrame(()=>{x(null)});return}requestAnimationFrame(B)};return s===l?(x(new Error("Element already at target position")),m):(requestAnimationFrame(B),m)}const Sr=["onChange"],jr={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function yr(e){const{onChange:r}=e,l=de(e,Sr),u=d.useRef(),x=d.useRef(null),n=()=>{u.current=x.current.offsetHeight-x.current.clientHeight};return Zt(()=>{const b=mt(()=>{const s=u.current;n(),s!==u.current&&r(u.current)}),a=vt(x.current);return a.addEventListener("resize",b),()=>{b.clear(),a.removeEventListener("resize",b)}},[r]),d.useEffect(()=>{n(),r(u.current)},[r]),t.jsx("div",k({style:jr},l,{ref:x}))}function Cr(e){return Se("MuiTabScrollButton",e)}const wr=me("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Mr=["className","slots","slotProps","direction","orientation","disabled"],Br=e=>{const{classes:r,orientation:l,disabled:u}=e;return ye({root:["root",l,u&&"disabled"]},Cr,r)},$r=Z(Fe,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,l.orientation&&r[l.orientation]]}})(({ownerState:e})=>k({width:40,flexShrink:0,opacity:.8,[`&.${wr.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Tr=d.forwardRef(function(r,l){var u,x;const n=je({props:r,name:"MuiTabScrollButton"}),{className:b,slots:a={},slotProps:s={},direction:p}=n,m=de(n,Mr),B=St(),$=k({isRtl:B},n),j=Br($),z=(u=a.StartScrollButtonIcon)!=null?u:cr,I=(x=a.EndScrollButtonIcon)!=null?x:dr,h=Re({elementType:z,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:$}),L=Re({elementType:I,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:$});return t.jsx($r,k({component:"div",className:X(j.root,b),ref:l,role:null,ownerState:$,tabIndex:null},m,{children:p==="left"?t.jsx(z,k({},h)):t.jsx(I,k({},L))}))});function Rr(e){return Se("MuiTabs",e)}const Oe=me("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),kr=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ht=(e,r)=>e===r?e.firstChild:r&&r.nextElementSibling?r.nextElementSibling:e.firstChild,ft=(e,r)=>e===r?e.lastChild:r&&r.previousElementSibling?r.previousElementSibling:e.lastChild,$e=(e,r,l)=>{let u=!1,x=l(e,r);for(;x;){if(x===e.firstChild){if(u)return;u=!0}const n=x.disabled||x.getAttribute("aria-disabled")==="true";if(!x.hasAttribute("tabindex")||n)x=l(e,x);else{x.focus();return}}},_r=e=>{const{vertical:r,fixed:l,hideScrollbar:u,scrollableX:x,scrollableY:n,centered:b,scrollButtonsHideMobile:a,classes:s}=e;return ye({root:["root",r&&"vertical"],scroller:["scroller",l&&"fixed",u&&"hideScrollbar",x&&"scrollableX",n&&"scrollableY"],flexContainer:["flexContainer",r&&"flexContainerVertical",b&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[x&&"scrollableX"],hideScrollbar:[u&&"hideScrollbar"]},Rr,s)},zr=Z("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[{[`& .${Oe.scrollButtons}`]:r.scrollButtons},{[`& .${Oe.scrollButtons}`]:l.scrollButtonsHideMobile&&r.scrollButtonsHideMobile},r.root,l.vertical&&r.vertical]}})(({ownerState:e,theme:r})=>k({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Oe.scrollButtons}`]:{[r.breakpoints.down("sm")]:{display:"none"}}})),Ir=Z("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.scroller,l.fixed&&r.fixed,l.hideScrollbar&&r.hideScrollbar,l.scrollableX&&r.scrollableX,l.scrollableY&&r.scrollableY]}})(({ownerState:e})=>k({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Wr=Z("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.flexContainer,l.vertical&&r.flexContainerVertical,l.centered&&r.centered]}})(({ownerState:e})=>k({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Er=Z("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,r)=>r.indicator})(({ownerState:e,theme:r})=>k({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(r.vars||r).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(r.vars||r).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Pr=Z(yr)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),xt={},Dr=d.forwardRef(function(r,l){const u=je({props:r,name:"MuiTabs"}),x=er(),n=St(),{"aria-label":b,"aria-labelledby":a,action:s,centered:p=!1,children:m,className:B,component:$="div",allowScrollButtonsMobile:j=!1,indicatorColor:z="primary",onChange:I,orientation:h="horizontal",ScrollButtonComponent:L=Tr,scrollButtons:o="auto",selectionFollowsFocus:i,slots:c={},slotProps:y={},TabIndicatorProps:_={},TabScrollButtonProps:v={},textColor:T="primary",value:D,variant:w="standard",visibleScrollbar:K=!1}=u,A=de(u,kr),W=w==="scrollable",F=h==="vertical",le=F?"scrollTop":"scrollLeft",ue=F?"top":"left",ie=F?"bottom":"right",q=F?"clientHeight":"clientWidth",J=F?"height":"width",ae=k({},u,{component:$,allowScrollButtonsMobile:j,indicatorColor:z,orientation:h,vertical:F,scrollButtons:o,textColor:T,variant:w,visibleScrollbar:K,fixed:!W,hideScrollbar:W&&!K,scrollableX:W&&!F,scrollableY:W&&F,centered:p&&!W,scrollButtonsHideMobile:!j}),ee=_r(ae),Nt=Re({elementType:c.StartScrollButtonIcon,externalSlotProps:y.startScrollButtonIcon,ownerState:ae}),At=Re({elementType:c.EndScrollButtonIcon,externalSlotProps:y.endScrollButtonIcon,ownerState:ae}),[Qe,Lt]=d.useState(!1),[se,Ze]=d.useState(xt),[et,Ft]=d.useState(!1),[tt,Gt]=d.useState(!1),[rt,Vt]=d.useState(!1),[ot,Ut]=d.useState({overflow:"hidden",scrollbarWidth:0}),nt=new Map,Q=d.useRef(null),ce=d.useRef(null),lt=()=>{const f=Q.current;let g;if(f){const M=f.getBoundingClientRect();g={clientWidth:f.clientWidth,scrollLeft:f.scrollLeft,scrollTop:f.scrollTop,scrollLeftNormalized:hr(f,n?"rtl":"ltr"),scrollWidth:f.scrollWidth,top:M.top,bottom:M.bottom,left:M.left,right:M.right}}let R;if(f&&D!==!1){const M=ce.current.children;if(M.length>0){const H=M[nt.get(D)];R=H?H.getBoundingClientRect():null}}return{tabsMeta:g,tabMeta:R}},pe=De(()=>{const{tabsMeta:f,tabMeta:g}=lt();let R=0,M;if(F)M="top",g&&f&&(R=g.top-f.top+f.scrollTop);else if(M=n?"right":"left",g&&f){const V=n?f.scrollLeftNormalized+f.clientWidth-f.scrollWidth:f.scrollLeft;R=(n?-1:1)*(g[M]-f[M]+V)}const H={[M]:R,[J]:g?g[J]:0};if(isNaN(se[M])||isNaN(se[J]))Ze(H);else{const V=Math.abs(se[M]-H[M]),Y=Math.abs(se[J]-H[J]);(V>=1||Y>=1)&&Ze(H)}}),We=(f,{animation:g=!0}={})=>{g?mr(le,Q.current,f,{duration:x.transitions.duration.standard}):Q.current[le]=f},it=f=>{let g=Q.current[le];F?g+=f:(g+=f*(n?-1:1),g*=n&&kt()==="reverse"?-1:1),We(g)},at=()=>{const f=Q.current[q];let g=0;const R=Array.from(ce.current.children);for(let M=0;M<R.length;M+=1){const H=R[M];if(g+H[q]>f){M===0&&(g=f);break}g+=H[q]}return g},Kt=()=>{it(-1*at())},Yt=()=>{it(at())},Xt=d.useCallback(f=>{Ut({overflow:null,scrollbarWidth:f})},[]),qt=()=>{const f={};f.scrollbarSizeListener=W?t.jsx(Pr,{onChange:Xt,className:X(ee.scrollableX,ee.hideScrollbar)}):null;const R=W&&(o==="auto"&&(et||tt)||o===!0);return f.scrollButtonStart=R?t.jsx(L,k({slots:{StartScrollButtonIcon:c.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Nt},orientation:h,direction:n?"right":"left",onClick:Kt,disabled:!et},v,{className:X(ee.scrollButtons,v.className)})):null,f.scrollButtonEnd=R?t.jsx(L,k({slots:{EndScrollButtonIcon:c.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:At},orientation:h,direction:n?"left":"right",onClick:Yt,disabled:!tt},v,{className:X(ee.scrollButtons,v.className)})):null,f},st=De(f=>{const{tabsMeta:g,tabMeta:R}=lt();if(!(!R||!g)){if(R[ue]<g[ue]){const M=g[le]+(R[ue]-g[ue]);We(M,{animation:f})}else if(R[ie]>g[ie]){const M=g[le]+(R[ie]-g[ie]);We(M,{animation:f})}}}),Ce=De(()=>{W&&o!==!1&&Vt(!rt)});d.useEffect(()=>{const f=mt(()=>{Q.current&&pe()});let g;const R=V=>{V.forEach(Y=>{Y.removedNodes.forEach(ge=>{var te;(te=g)==null||te.unobserve(ge)}),Y.addedNodes.forEach(ge=>{var te;(te=g)==null||te.observe(ge)})}),f(),Ce()},M=vt(Q.current);M.addEventListener("resize",f);let H;return typeof ResizeObserver<"u"&&(g=new ResizeObserver(f),Array.from(ce.current.children).forEach(V=>{g.observe(V)})),typeof MutationObserver<"u"&&(H=new MutationObserver(R),H.observe(ce.current,{childList:!0})),()=>{var V,Y;f.clear(),M.removeEventListener("resize",f),(V=H)==null||V.disconnect(),(Y=g)==null||Y.disconnect()}},[pe,Ce]),d.useEffect(()=>{const f=Array.from(ce.current.children),g=f.length;if(typeof IntersectionObserver<"u"&&g>0&&W&&o!==!1){const R=f[0],M=f[g-1],H={root:Q.current,threshold:.99},V=Pe=>{Ft(!Pe[0].isIntersecting)},Y=new IntersectionObserver(V,H);Y.observe(R);const ge=Pe=>{Gt(!Pe[0].isIntersecting)},te=new IntersectionObserver(ge,H);return te.observe(M),()=>{Y.disconnect(),te.disconnect()}}},[W,o,rt,m==null?void 0:m.length]),d.useEffect(()=>{Lt(!0)},[]),d.useEffect(()=>{pe()}),d.useEffect(()=>{st(xt!==se)},[st,se]),d.useImperativeHandle(s,()=>({updateIndicator:pe,updateScrollButtons:Ce}),[pe,Ce]);const ct=t.jsx(Er,k({},_,{className:X(ee.indicator,_.className),ownerState:ae,style:k({},se,_.style)}));let we=0;const Jt=d.Children.map(m,f=>{if(!d.isValidElement(f))return null;const g=f.props.value===void 0?we:f.props.value;nt.set(g,we);const R=g===D;return we+=1,d.cloneElement(f,k({fullWidth:w==="fullWidth",indicator:R&&!Qe&&ct,selected:R,selectionFollowsFocus:i,onChange:I,textColor:T,value:g},we===1&&D===!1&&!f.props.tabIndex?{tabIndex:0}:{}))}),Qt=f=>{const g=ce.current,R=tr(g).activeElement;if(R.getAttribute("role")!=="tab")return;let H=h==="horizontal"?"ArrowLeft":"ArrowUp",V=h==="horizontal"?"ArrowRight":"ArrowDown";switch(h==="horizontal"&&n&&(H="ArrowRight",V="ArrowLeft"),f.key){case H:f.preventDefault(),$e(g,R,ft);break;case V:f.preventDefault(),$e(g,R,ht);break;case"Home":f.preventDefault(),$e(g,null,ht);break;case"End":f.preventDefault(),$e(g,null,ft);break}},Ee=qt();return t.jsxs(zr,k({className:X(ee.root,B),ownerState:ae,ref:l,as:$},A,{children:[Ee.scrollButtonStart,Ee.scrollbarSizeListener,t.jsxs(Ir,{className:ee.scroller,ownerState:ae,style:{overflow:ot.overflow,[F?`margin${n?"Left":"Right"}`:"marginBottom"]:K?void 0:-ot.scrollbarWidth},ref:Q,children:[t.jsx(Wr,{"aria-label":b,"aria-labelledby":a,"aria-orientation":h==="vertical"?"vertical":null,className:ee.flexContainer,ownerState:ae,onKeyDown:Qt,ref:ce,role:"tablist",children:Jt}),Qe&&ct]}),Ee.scrollButtonEnd]}))});function Or(e){return Se("MuiToggleButton",e)}const fe=me("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),_t=d.createContext({}),zt=d.createContext(void 0);function Hr(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.indexOf(e)>=0:e===r}const Nr=["value"],Ar=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Lr=e=>{const{classes:r,fullWidth:l,selected:u,disabled:x,size:n,color:b}=e,a={root:["root",u&&"selected",x&&"disabled",l&&"fullWidth",`size${be(n)}`,b]};return ye(a,Or,r)},Fr=Z(Fe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,r[`size${be(l.size)}`]]}})(({theme:e,ownerState:r})=>{let l=r.color==="standard"?e.palette.text.primary:e.palette[r.color].main,u;return e.vars&&(l=r.color==="standard"?e.vars.palette.text.primary:e.vars.palette[r.color].main,u=r.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[r.color].mainChannel),k({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},r.fullWidth&&{width:"100%"},{[`&.${fe.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fe.selected}`]:{color:l,backgroundColor:e.vars?`rgba(${u} / ${e.vars.palette.action.selectedOpacity})`:Me(l,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${u} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Me(l,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${u} / ${e.vars.palette.action.selectedOpacity})`:Me(l,e.palette.action.selectedOpacity)}}}},r.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},r.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),bt=d.forwardRef(function(r,l){const u=d.useContext(_t),{value:x}=u,n=de(u,Nr),b=d.useContext(zt),a=rr(k({},n,{selected:Hr(r.value,x)}),r),s=je({props:a,name:"MuiToggleButton"}),{children:p,className:m,color:B="standard",disabled:$=!1,disableFocusRipple:j=!1,fullWidth:z=!1,onChange:I,onClick:h,selected:L,size:o="medium",value:i}=s,c=de(s,Ar),y=k({},s,{color:B,disabled:$,disableFocusRipple:j,fullWidth:z,size:o}),_=Lr(y),v=D=>{h&&(h(D,i),D.defaultPrevented)||I&&I(D,i)},T=b||"";return t.jsx(Fr,k({className:X(n.className,_.root,m,T),disabled:$,focusRipple:!j,ref:l,onClick:v,onChange:I,value:i,ownerState:y,"aria-pressed":L},c,{children:p}))});function Gr(e){return Se("MuiToggleButtonGroup",e)}const E=me("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Vr=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Ur=e=>{const{classes:r,orientation:l,fullWidth:u,disabled:x}=e,n={root:["root",l==="vertical"&&"vertical",u&&"fullWidth"],grouped:["grouped",`grouped${be(l)}`,x&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ye(n,Gr,r)},Kr=Z("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[{[`& .${E.grouped}`]:r.grouped},{[`& .${E.grouped}`]:r[`grouped${be(l.orientation)}`]},{[`& .${E.firstButton}`]:r.firstButton},{[`& .${E.lastButton}`]:r.lastButton},{[`& .${E.middleButton}`]:r.middleButton},r.root,l.orientation==="vertical"&&r.vertical,l.fullWidth&&r.fullWidth]}})(({ownerState:e,theme:r})=>k({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${E.grouped}`]:k({},e.orientation==="horizontal"?{[`&.${E.selected} + .${E.grouped}.${E.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${E.selected} + .${E.grouped}.${E.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${E.firstButton},& .${E.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${E.lastButton},& .${E.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${E.firstButton},& .${E.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${E.lastButton},& .${E.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${E.lastButton}.${fe.disabled},& .${E.middleButton}.${fe.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${E.lastButton}.${fe.disabled},& .${E.middleButton}.${fe.disabled}`]:{borderTop:"1px solid transparent"}})),Yr=d.forwardRef(function(r,l){const u=je({props:r,name:"MuiToggleButtonGroup"}),{children:x,className:n,color:b="standard",disabled:a=!1,exclusive:s=!1,fullWidth:p=!1,onChange:m,orientation:B="horizontal",size:$="medium",value:j}=u,z=de(u,Vr),I=k({},u,{disabled:a,fullWidth:p,orientation:B,size:$}),h=Ur(I),L=d.useCallback((v,T)=>{if(!m)return;const D=j&&j.indexOf(T);let w;j&&D>=0?(w=j.slice(),w.splice(D,1)):w=j?j.concat(T):[T],m(v,w)},[m,j]),o=d.useCallback((v,T)=>{m&&m(v,j===T?null:T)},[m,j]),i=d.useMemo(()=>({className:h.grouped,onChange:s?o:L,value:j,size:$,fullWidth:p,color:b,disabled:a}),[h.grouped,s,o,L,j,$,p,b,a]),c=fr(x),y=c.length,_=v=>{const T=v===0,D=v===y-1;return T&&D?"":T?h.firstButton:D?h.lastButton:h.middleButton};return t.jsx(Kr,k({role:"group",className:X(h.root,n),ref:l,ownerState:I},z,{children:t.jsx(_t.Provider,{value:i,children:c.map((v,T)=>t.jsx(zt.Provider,{value:_(T),children:v},T))})}))}),N={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"},Xr=({allmatches:e})=>{if(!(e!=null&&e.aggregatedResults))return t.jsx(U,{sx:{p:4,textAlign:"center",bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:t.jsx(S,{variant:"h6",sx:{color:N.textSecondary},children:"No aggregated results available"})});const r={};Object.values(e.aggregatedResults).forEach(b=>{b.picks&&Object.entries(b.picks).forEach(([a,s])=>{r[a]||(r[a]={map:a,picks:0,bans:0}),r[a].picks+=s}),b.bans&&Object.entries(b.bans).forEach(([a,s])=>{r[a]||(r[a]={map:a,picks:0,bans:0}),r[a].bans+=s})});const l=Object.values(r).map(b=>({map:b.map.replace("de_",""),picks:b.picks,bans:b.bans,total:b.picks+b.bans})).filter(b=>b.total>0).sort((b,a)=>a.total-b.total);if(!(l.length>0))return t.jsx(U,{sx:{p:4,textAlign:"center",bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:t.jsx(S,{variant:"h6",sx:{color:N.textSecondary},children:"No pick or ban data available"})});const x=({active:b,payload:a,label:s})=>b&&a&&a.length?t.jsxs(P,{sx:{p:2,bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:[t.jsx(S,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:N.textPrimary},children:s}),a.map((p,m)=>t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(P,{sx:{width:12,height:12,backgroundColor:p.color}}),t.jsxs(S,{variant:"body2",sx:{color:N.textPrimary},children:[p.name,": ",t.jsx("strong",{children:p.value})]})]},m)),t.jsxs(S,{variant:"body2",sx:{mt:1,fontWeight:"bold",color:N.accent},children:["Total: ",t.jsx("strong",{children:a.reduce((p,m)=>p+m.value,0)})]})]}):null,n=b=>{const{payload:a}=b;return t.jsx(P,{sx:{display:"flex",justifyContent:"center",gap:3,mt:1},children:a.map((s,p)=>t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(P,{sx:{width:16,height:16,backgroundColor:s.color}}),t.jsx(S,{variant:"body2",sx:{fontWeight:"500",color:N.textPrimary},children:s.value})]},p))})};return t.jsxs(U,{sx:{p:3,height:500,bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:[t.jsx(S,{variant:"overline",sx:{mb:1,display:"block",textAlign:"center",fontWeight:"bold",color:N.accent,letterSpacing:2},children:"MAP ANALYTICS"}),t.jsx(S,{variant:"h6",sx:{mb:3,textAlign:"center",fontWeight:"600",color:N.textPrimary},children:"Pick / Ban Statistics"}),t.jsx(yt,{width:"100%",height:"85%",children:t.jsxs($t,{data:l,layout:"vertical",margin:{top:20,right:30,left:80,bottom:20},children:[t.jsx(Ct,{type:"number",tick:{fill:N.textSecondary,fontSize:12},axisLine:!1,tickLine:!1}),t.jsx(wt,{type:"category",dataKey:"map",tick:{fill:N.textPrimary,fontSize:12,fontWeight:500},width:80,axisLine:!1,tickLine:!1}),t.jsx(Mt,{content:t.jsx(x,{})}),t.jsx(Bt,{content:n}),t.jsx(ke,{dataKey:"picks",name:"Picks",fill:N.green,radius:[0,4,4,0],barSize:35}),t.jsx(ke,{dataKey:"bans",name:"Bans",fill:N.red,radius:[0,4,4,0],barSize:35})]})})]})},qr=d.memo(Xr),Jr=({teams:e,playerStatsById:r,handleTeamClick:l,globalPlayers:u=[],defaultTeam:x=null})=>{var L;const n=()=>x&&(e!=null&&e.find(o=>o.name===x))?x:e&&e.length>0?e[0].name:"Rakkauden Kanaali",[b,a]=d.useState(n());d.useEffect(()=>{if(e&&e.length>0){if(x&&e.find(i=>i.name===x)){a(x);return}e.find(i=>i.name===b)||a(e[0].name)}},[e,b,x]);const[s,p]=d.useState({});d.useEffect(()=>{(async()=>{const i=(e==null?void 0:e.find(v=>v.name===b))||(e==null?void 0:e[0]);if(!i||!i.roster)return;const c=i.roster.map(v=>v.nickname).filter(v=>!s[v]);if(c.length===0)return;const y=await Promise.allSettled(c.map(async v=>{try{const T=await or.fetchFaceitProfile(v);return{nickname:v,data:T}}catch{return{nickname:v,data:null}}})),_={};y.forEach(v=>{v.status==="fulfilled"&&v.value.data&&(_[v.value.nickname]=v.value.data)}),Object.keys(_).length>0&&p(v=>({...v,..._}))})()},[b,e]);const m=e!=null&&e.find(o=>o.name===b)?b:((L=e==null?void 0:e[0])==null?void 0:L.name)||"",B=d.useMemo(()=>(e==null?void 0:e.find(o=>o.name===m))||null,[e,m]),$=d.useMemo(()=>{if(!B)return[];const o={};return B.roster.forEach(i=>{var y,_;const c=((_=(y=r[i.player_id])==null?void 0:y.tournament_stats)==null?void 0:_.played_maps)||{};Object.entries(c).forEach(([v,T])=>{const D=v.endsWith("_wins"),w=D?v.replace("_wins",""):v;o[w]||(o[w]={played:0,wins:0}),D?o[w].wins=Math.max(o[w].wins,T):o[w].played=Math.max(o[w].played,T)})}),Object.entries(o).map(([i,{played:c,wins:y}])=>({map:i,played:c,wins:y,losses:c-y,winRate:c?(y/c*100).toFixed(1):0}))},[B,r]);if(!e||e.length===0)return t.jsx(P,{p:3,children:t.jsx(S,{children:"No team data available."})});const j=o=>{const i=o.target.value;a(i);const c=e.find(y=>y.name===i);c&&l(c)},z=[{field:"avatar",headerName:"",width:60,sortable:!1,display:"flex",renderCell:o=>{var i;return t.jsx(P,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:t.jsx(ve,{src:o.value,alt:o.row.nickname,variant:"rounded",sx:{width:32,height:32},children:(i=o.row.nickname)==null?void 0:i.charAt(0)})})}},{field:"nickname",headerName:"Player",flex:1,minWidth:150,renderCell:o=>t.jsx(P,{sx:{display:"flex",alignItems:"center",height:"100%"},children:t.jsx(S,{fontWeight:"bold",variant:"body2",children:o.value})})},{field:"faceitLevel",headerName:"Lvl",width:60,align:"center",headerAlign:"center",renderCell:o=>{const i=Number(o.value);let c="#666666";return i>=10?c="#de6c2c":i>=8?c="#ef4444":i>=6?c="#f59e0b":i>=4?c="#84cc16":i>=1&&(c="#22c55e"),t.jsx(P,{sx:{width:26,height:26,borderRadius:0,border:`2px solid ${c}`,bgcolor:"transparent",color:c,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:"0.8rem"},children:o.value!=="?"?o.value:"-"})}},{field:"faceitElo",headerName:"Elo",width:80,align:"center",headerAlign:"center",renderCell:o=>{const i=Number(o.value)||0;let c="#888888";return i>=2e3?c="#de6c2c":i>=1500?c="#ef4444":i>=1e3?c="#f59e0b":i>0&&(c="#84cc16"),t.jsx(S,{variant:"body2",sx:{color:c,fontFamily:'"Roboto Mono", monospace',fontWeight:600},children:o.value!=="-"?o.value:"â€”"})}},{field:"kd",headerName:"K/D",width:90,align:"center",headerAlign:"center",renderCell:o=>{const i=parseFloat(o.value);let c="#888888";return i>=1.3?c="#4ade80":i>=1?c="#e5e5e5":c="#ef4444",t.jsx(S,{variant:"body2",sx:{color:c,fontFamily:'"Roboto Mono", monospace',fontWeight:600},children:o.value})}},{field:"hsPercent",headerName:"HS %",width:90,align:"center",headerAlign:"center",renderCell:o=>t.jsx(S,{variant:"body2",sx:{color:"#de6c2c",fontFamily:'"Roboto Mono", monospace'},children:o.value})},{field:"kr",headerName:"K/R",width:90,align:"center",headerAlign:"center",renderCell:o=>t.jsx(S,{variant:"body2",sx:{color:"#888888",fontFamily:'"Roboto Mono", monospace'},children:o.value})},{field:"matches",headerName:"Matches",width:90,align:"center",headerAlign:"center",renderCell:o=>t.jsx(S,{variant:"body2",sx:{color:"#888888"},children:o.value||0})},{field:"winRate",headerName:"Win %",width:90,align:"center",headerAlign:"center",renderCell:o=>{const i=parseInt(o.value)||0;let c="#888888";return i>=55?c="#4ade80":i>=50?c="#e5e5e5":i>0&&(c="#ef4444"),t.jsx(S,{variant:"body2",sx:{color:c,fontWeight:600},children:o.value})}}],I=B?B.roster.map(o=>{var ie;const i=r[o.player_id]||{},c=i.stats||{},y=c.played_maps||{},_=c.Kills||c.kills||0,v=c.Deaths||c.deaths||1,T=c.Headshots||c.headshots||0,D=c.Rounds||c.rounds||1;let w=c.played_matches||c.Matches||c.matches||c.matchesPlayed||c.MatchesPlayed||0,K=c.Wins||c.wins||0;!w&&Object.keys(y).length>0&&Object.entries(y).forEach(([q,J])=>{q.endsWith("_wins")||(w+=J)}),!K&&Object.keys(y).length>0&&Object.entries(y).forEach(([q,J])=>{q.endsWith("_wins")&&(K+=J)});const A=u.find(q=>q.nickname===o.nickname),W=s[o.nickname],F=(W==null?void 0:W.elo)||i.elo||i.faceit_elo||((ie=i.faceit)==null?void 0:ie.elo)||o.faceit_elo||o.elo||(A==null?void 0:A.elo)||(A==null?void 0:A.faceit_elo)||"-",le=(W==null?void 0:W.level)||i.faceit_lvl||i.game_skill_level||o.game_skill_level||o.faceit_lvl||(A==null?void 0:A.game_skill_level)||(A==null?void 0:A.faceit_lvl)||"?",ue=(W==null?void 0:W.avatar)||i.avatar||o.avatar||(A==null?void 0:A.avatar);return{id:o.player_id,nickname:o.nickname,avatar:ue,faceitLevel:le,faceitElo:F,kd:(_/v).toFixed(2),hsPercent:_?(T/_*100).toFixed(1)+"%":"0%",kr:(_/D).toFixed(2),matches:w,winRate:w?(K/w*100).toFixed(0)+"%":"0%"}}):[],h={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"};return t.jsxs(P,{sx:{width:"100%",mt:1},children:[t.jsx(U,{sx:{p:3,mb:3,background:h.bgCard,borderBottom:`1px solid ${h.border}`,borderRadius:0},children:t.jsxs(O,{container:!0,alignItems:"center",spacing:3,children:[t.jsxs(O,{item:!0,xs:12,md:6,children:[t.jsx(S,{variant:"overline",sx:{color:h.accent,letterSpacing:2,fontWeight:600},children:"ROSTER ANALYSIS"}),t.jsx(S,{variant:"h5",fontWeight:"bold",sx:{color:h.textPrimary,mt:.5},children:"Team Scouting"})]}),t.jsx(O,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"left",md:"right"}},children:t.jsxs(Ne,{fullWidth:!0,size:"small",sx:{maxWidth:300},children:[t.jsx(Ae,{id:"team-select-label",sx:{color:h.textSecondary},children:"Select Team"}),t.jsx(_e,{labelId:"team-select-label",value:m,label:"Select Team",onChange:j,sx:{color:h.textPrimary,bgcolor:h.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:h.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:h.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:h.accent},"& .MuiSvgIcon-root":{color:h.textSecondary}},children:e.map(o=>t.jsx(xe,{value:o.name,children:o.name},o.team_id))})]})})]})}),t.jsxs(O,{container:!0,spacing:3,children:[t.jsx(O,{item:!0,xs:12,lg:12,children:t.jsx(U,{sx:{height:500,width:"100%",bgcolor:h.bgCard,border:`1px solid ${h.border}`,borderRadius:0,overflow:"hidden"},children:t.jsx(ze,{rows:I,columns:z,disableRowSelectionOnClick:!0,rowHeight:60,slots:{toolbar:sr},sx:{border:0,color:h.textPrimary,fontFamily:'"Inter", "Roboto", sans-serif',"& .MuiDataGrid-columnHeaders":{bgcolor:h.bgDark,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1.5,borderBottom:`1px solid ${h.border}`,color:h.textSecondary},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${h.border}`},"& .MuiDataGrid-row:hover":{bgcolor:h.bgHover},"& .MuiTablePagination-root":{color:h.textSecondary},"& .MuiDataGrid-toolbarContainer":{p:2,borderBottom:`1px solid ${h.border}`},"& .MuiButton-root":{color:h.textSecondary,"&:hover":{color:h.accent}},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:700}}})})}),t.jsx(O,{item:!0,xs:12,children:t.jsx(Tt,{sx:{bgcolor:h.bgCard,border:`1px solid ${h.border}`,borderRadius:0},children:t.jsxs(Rt,{children:[t.jsx(S,{variant:"overline",sx:{color:h.accent,letterSpacing:2,fontWeight:600},children:"MAP POOL"}),t.jsx(S,{variant:"h6",fontWeight:"bold",sx:{color:h.textPrimary,mt:.5},children:"Performance Analysis"}),t.jsx(P,{sx:{height:400,width:"100%",mt:2},children:t.jsx(yt,{children:t.jsxs($t,{data:$,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(Ct,{dataKey:"map",stroke:h.textSecondary,tick:{fill:h.textSecondary,fontSize:11}}),t.jsx(wt,{stroke:h.textSecondary,tick:{fill:h.textSecondary,fontSize:11}}),t.jsx(Mt,{contentStyle:{backgroundColor:h.bgDark,border:`1px solid ${h.border}`,color:h.textPrimary,borderRadius:0},cursor:{fill:"rgba(255,255,255,0.03)"}}),t.jsx(Bt,{wrapperStyle:{paddingTop:"20px"}}),t.jsx(ke,{dataKey:"wins",name:"Wins",fill:h.green,radius:0}),t.jsx(ke,{dataKey:"losses",name:"Losses",fill:h.red,radius:0})]})})})]})})})]})]})},Qr=d.memo(Jr);var Ge={},Zr=ne;Object.defineProperty(Ge,"__esModule",{value:!0});var It=Ge.default=void 0,eo=Zr(oe()),to=t;It=Ge.default=(0,eo.default)((0,to.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event");const C={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentHover:"#ff7c3c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80"},ro=({matches:e})=>{const[r,l]=d.useState("FINISHED"),u=(s,p)=>{p&&l(p)},n=[...Array.isArray(e)?e.filter(s=>r==="FINISHED"?s.status==="FINISHED":r==="SCHEDULED"?s.status==="SCHEDULED":!0):[]].sort((s,p)=>{const m=new Date(s.scheduled_at),B=new Date(p.scheduled_at);return r==="FINISHED"?B-m:m-B}),b=[{field:"date",headerName:"Date",width:150,renderCell:s=>{const p=new Date(s.row.scheduled_at);return t.jsxs(Te,{justifyContent:"center",height:"100%",children:[t.jsx(S,{variant:"body2",fontWeight:"bold",sx:{color:C.textPrimary},children:p.toLocaleDateString()}),t.jsx(S,{variant:"caption",sx:{color:C.textSecondary},children:p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}},{field:"matchup",headerName:"Matchup",flex:1,renderCell:s=>{var p,m;return t.jsxs(Te,{direction:"row",alignItems:"center",spacing:2,sx:{width:"100%",height:"100%"},children:[t.jsxs(P,{sx:{flex:1,textAlign:"right",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},children:[t.jsx(S,{fontWeight:"bold",noWrap:!0,sx:{color:C.textPrimary},children:s.row.faction1_name}),t.jsx(ve,{sx:{width:24,height:24,bgcolor:C.accent,fontSize:"0.7rem",color:C.textPrimary},children:(p=s.row.faction1_name)==null?void 0:p[0]})]}),t.jsx(Ie,{label:s.row.results?`${s.row.results.score1} : ${s.row.results.score2}`:"VS",size:"small",sx:{fontWeight:"bold",minWidth:60,bgcolor:s.row.status==="FINISHED"?C.bgHover:C.accent,color:C.textPrimary,border:`1px solid ${C.border}`}}),t.jsxs(P,{sx:{flex:1,textAlign:"left",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:1},children:[t.jsx(ve,{sx:{width:24,height:24,bgcolor:C.green,fontSize:"0.7rem",color:C.bgDark},children:(m=s.row.faction2_name)==null?void 0:m[0]}),t.jsx(S,{fontWeight:"bold",noWrap:!0,sx:{color:C.textPrimary},children:s.row.faction2_name})]})]})}},{field:"map",headerName:"Map",width:120,align:"center",headerAlign:"center",renderCell:s=>{var p,m;return t.jsx(Te,{justifyContent:"center",height:"100%",children:t.jsx(Ie,{label:((m=(p=s.row.voting)==null?void 0:p.map)==null?void 0:m.pick[0])||"Unknown",variant:"outlined",size:"small",sx:{textTransform:"capitalize",color:C.textSecondary,borderColor:C.border}})})}}],a=n.map((s,p)=>({id:p,...s}));return t.jsxs(P,{sx:{width:"100%",mt:2},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsxs(S,{variant:"h5",fontWeight:"bold",sx:{display:"flex",alignItems:"center",gap:1,color:C.textPrimary},children:[t.jsx(It,{fontSize:"medium",sx:{color:C.accent}})," Match Schedule"]}),t.jsxs(Yr,{value:r,exclusive:!0,onChange:u,"aria-label":"match status",size:"small",sx:{bgcolor:C.bgCard,border:`1px solid ${C.border}`,"& .MuiToggleButton-root":{color:C.textSecondary,border:"none",px:3,textTransform:"uppercase",letterSpacing:1,fontSize:"0.75rem","&.Mui-selected":{bgcolor:C.accent,color:C.textPrimary,"&:hover":{bgcolor:C.accentHover}},"&:hover":{bgcolor:C.bgHover}}},children:[t.jsx(bt,{value:"FINISHED",children:"Completed"}),t.jsx(bt,{value:"SCHEDULED",children:"Upcoming"})]})]}),t.jsx(U,{sx:{height:600,width:"100%",bgcolor:C.bgCard,border:`1px solid ${C.border}`,overflow:"hidden"},children:t.jsx(ze,{rows:a,columns:b,rowHeight:70,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25],sx:{border:0,color:C.textPrimary,"& .MuiDataGrid-columnHeaders":{bgcolor:C.bgDark,borderBottom:`1px solid ${C.border}`,textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:1,color:C.textSecondary},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${C.border}`},"& .MuiDataGrid-row:hover":{bgcolor:C.bgHover},"& .MuiTablePagination-root":{color:C.textSecondary},"& .MuiIconButton-root":{color:C.textSecondary},"& .MuiDataGrid-footerContainer":{borderTop:`1px solid ${C.border}`}}})})]})},oo=d.memo(ro);var Ve={},no=ne;Object.defineProperty(Ve,"__esModule",{value:!0});var Le=Ve.default=void 0,lo=no(oe()),io=t;Le=Ve.default=(0,lo.default)((0,io.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"}),"Grid3x3");var Ue={},ao=ne;Object.defineProperty(Ue,"__esModule",{value:!0});var Wt=Ue.default=void 0,so=ao(oe()),co=t;Wt=Ue.default=(0,so.default)((0,co.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents");var Ke={},uo=ne;Object.defineProperty(Ke,"__esModule",{value:!0});var Et=Ke.default=void 0,ho=uo(oe()),pt=t;Et=Ke.default=(0,ho.default)([(0,pt.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,pt.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");const gt=d.memo(({teamName:e,isHome:r,players:l})=>{const n=r?"#de6c2c":"#4ade80",b=l!=null&&l.length?Math.round(l.reduce((a,s)=>a+(s.game_skill_level||5),0)/l.length):0;return t.jsx(Tt,{elevation:0,sx:{height:"100%",background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.08)",borderTop:`3px solid ${n}`,borderRadius:0,position:"relative",overflow:"visible"},children:t.jsxs(Rt,{sx:{textAlign:"center",pt:4},children:[t.jsx(ve,{sx:{width:80,height:80,margin:"0 auto",mb:2,bgcolor:"transparent",color:n,fontSize:"2rem",fontWeight:"bold",border:`2px solid ${n}`,borderRadius:0},children:e==null?void 0:e.charAt(0)}),t.jsx(S,{variant:"h5",fontWeight:"800",sx:{mb:1,textTransform:"uppercase",letterSpacing:2,color:"#e5e5e5"},children:e}),t.jsx(Ie,{label:r?"YOUR TEAM":"OPPONENT",size:"small",sx:{bgcolor:"transparent",color:n,border:`1px solid ${n}`,borderRadius:0,fontSize:"0.65rem",letterSpacing:1,mb:3}}),t.jsxs(Te,{direction:"row",justifyContent:"center",spacing:4,divider:t.jsx(ur,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(255,255,255,0.08)"}}),children:[t.jsxs(P,{children:[t.jsx(S,{variant:"caption",sx:{color:"#888888",textTransform:"uppercase",letterSpacing:1},children:"Avg Level"}),t.jsx(S,{variant:"h5",fontWeight:"bold",sx:{color:"#e5e5e5"},children:b||"-"})]}),t.jsxs(P,{children:[t.jsx(S,{variant:"caption",sx:{color:"#888888",textTransform:"uppercase",letterSpacing:1},children:"Players"}),t.jsx(S,{variant:"h5",fontWeight:"bold",sx:{color:"#e5e5e5"},children:(l==null?void 0:l.length)||0})]})]})]})})}),fo=({teams:e,matches:r,playerStatsById:l,defaultTeam:u=null})=>{const x=jt(),n={bgDark:"#0d0d0d",bgCard:"#1a1a1a",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},b=()=>{var o;return u&&(e!=null&&e.find(i=>i.name===u))?u:((o=e==null?void 0:e[0])==null?void 0:o.name)||""},[a,s]=d.useState(b()),[p,m]=d.useState(null),[B,$]=d.useState("");d.useEffect(()=>{if(e&&e.length>0){if(u&&e.find(o=>o.name===u)){s(u);return}e.find(o=>o.name===a)||s(e[0].name)}},[e,a,u]),d.useEffect(()=>{if(a&&r&&r.length>0){const o=r.filter(i=>i.status==="SCHEDULED"&&(i.faction1_name===a||i.faction2_name===a));if(o.sort((i,c)=>new Date(i.scheduled_at)-new Date(c.scheduled_at)),o.length>0){const i=o[0];m(i),$(i.faction1_name===a?i.faction2_name:i.faction1_name)}else m(null),$("")}},[a,r]);const j=e.find(o=>o.name===a),z=e.find(o=>o.name===B);d.useEffect(()=>{j!=null&&j.roster&&j.roster.forEach(o=>{l[o.player_id]||x(He(o.player_id))})},[j,l,x]),d.useEffect(()=>{z!=null&&z.roster&&z.roster.forEach(o=>{l[o.player_id]||x(He(o.player_id))})},[z,l,x]);const I=o=>!o||!o.roster?[]:o.roster.map(i=>{const y=(l[i.player_id]||{}).stats||{},_=y.played_maps||{},v=y.Kills||y.kills||0,T=y.Deaths||y.deaths||1,D=T>0?(v/T).toFixed(2):"-";let w=y.played_matches||y.Matches||y.matches||0;!w&&Object.keys(_).length>0&&Object.entries(_).forEach(([W,F])=>{W.endsWith("_wins")||(w+=F)});let K=y.Wins||y.wins||0;!K&&Object.keys(_).length>0&&Object.entries(_).forEach(([W,F])=>{W.endsWith("_wins")&&(K+=F)});const A=w>0?(K/w*100).toFixed(0)+"%":"-";return{id:i.player_id,nickname:i.nickname,avatar:i.avatar||"",elo:i.game_skill_level||0,kd:D,matches:w||"-",winRate:A}}),h=[{field:"nickname",headerName:"Player",flex:1,renderCell:o=>{var i;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ve,{src:o.row.avatar,sx:{width:24,height:24},children:(i=o.value)==null?void 0:i[0]}),t.jsx(S,{fontWeight:"bold",variant:"body2",children:o.value})]})}},{field:"elo",headerName:"Level",width:70,align:"center",headerAlign:"center"},{field:"kd",headerName:"K/D",width:70,align:"center",headerAlign:"center"},{field:"matches",headerName:"Games",width:70,align:"center",headerAlign:"center"},{field:"winRate",headerName:"Win%",width:70,align:"center",headerAlign:"center"}];if(!p)return t.jsxs(P,{children:[t.jsx(U,{sx:{p:2,mb:3,bgcolor:n.bgCard,border:`1px solid ${n.border}`,borderRadius:0},children:t.jsxs(O,{container:!0,alignItems:"center",spacing:2,children:[t.jsx(O,{item:!0,children:t.jsx(S,{variant:"overline",sx:{color:n.accent,letterSpacing:2,fontWeight:600},children:"SELECT YOUR TEAM"})}),t.jsx(O,{item:!0,xs:!0,children:t.jsxs(Ne,{fullWidth:!0,size:"small",children:[t.jsx(Ae,{sx:{color:n.textSecondary},children:"Team"}),t.jsx(_e,{value:a,label:"Team",onChange:o=>s(o.target.value),sx:{color:n.textPrimary,bgcolor:n.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:n.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:n.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:n.accent},"& .MuiSvgIcon-root":{color:n.textSecondary}},children:e==null?void 0:e.map(o=>t.jsx(xe,{value:o.name,children:o.name},o.team_id))})]})})]})}),t.jsxs(U,{elevation:0,sx:{textAlign:"center",py:10,opacity:.8,background:n.bgCard,border:`1px dashed ${n.border}`,borderRadius:0},children:[t.jsx(Wt,{sx:{fontSize:60,mb:2,opacity:.3,color:n.textSecondary}}),t.jsx(S,{variant:"h5",fontWeight:"bold",gutterBottom:!0,sx:{color:n.textPrimary},children:"No Upcoming Matches"}),t.jsxs(S,{sx:{color:n.textSecondary},children:["There are no scheduled matches for ",a," in the calendar."]})]})]});const L=new Date(p.scheduled_at);return t.jsxs(P,{children:[t.jsx(U,{sx:{p:2,mb:3,bgcolor:n.bgCard,border:`1px solid ${n.border}`,borderRadius:0},children:t.jsxs(O,{container:!0,alignItems:"center",spacing:2,children:[t.jsx(O,{item:!0,children:t.jsx(S,{variant:"overline",sx:{color:n.accent,letterSpacing:2,fontWeight:600},children:"SELECT YOUR TEAM"})}),t.jsx(O,{item:!0,xs:!0,children:t.jsxs(Ne,{fullWidth:!0,size:"small",children:[t.jsx(Ae,{sx:{color:n.textSecondary},children:"Team"}),t.jsx(_e,{value:a,label:"Team",onChange:o=>s(o.target.value),sx:{color:n.textPrimary,bgcolor:n.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:n.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:n.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:n.accent},"& .MuiSvgIcon-root":{color:n.textSecondary}},children:e==null?void 0:e.map(o=>t.jsx(xe,{value:o.name,children:o.name},o.team_id))})]})})]})}),t.jsxs(U,{sx:{p:{xs:2,md:5},mb:4,background:n.bgCard,textAlign:"center",border:`1px solid ${n.border}`,position:"relative",overflow:"hidden",borderRadius:0},children:[t.jsx(Ie,{icon:t.jsx(Et,{sx:{color:`${n.textSecondary} !important`}}),label:L.toLocaleString([],{weekday:"long",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),variant:"outlined",sx:{mb:3,borderColor:n.border,color:n.textSecondary,bgcolor:n.bgDark,borderRadius:0}}),t.jsx(S,{variant:"h1",fontWeight:"900",sx:{fontSize:{xs:"3rem",md:"5rem"},color:n.accent,letterSpacing:8,mb:4,lineHeight:1},children:"VS"}),t.jsxs(O,{container:!0,spacing:4,alignItems:"center",justifyContent:"center",children:[t.jsx(O,{item:!0,xs:12,md:5,children:t.jsx(gt,{teamName:a,isHome:!0,players:(j==null?void 0:j.roster)||[]})}),t.jsx(O,{item:!0,xs:12,md:5,children:t.jsx(gt,{teamName:B,isHome:!1,players:(z==null?void 0:z.roster)||[]})})]})]}),t.jsxs(O,{container:!0,spacing:4,children:[t.jsxs(O,{item:!0,xs:12,md:6,children:[t.jsxs(S,{variant:"overline",sx:{display:"flex",alignItems:"center",gap:1,color:n.accent,letterSpacing:2,fontWeight:600,mb:1},children:[t.jsx(Le,{fontSize:"small"})," ",a]}),t.jsx(U,{sx:{height:400,width:"100%",bgcolor:n.bgCard,border:`1px solid ${n.border}`,borderRadius:0},children:t.jsx(ze,{rows:I(j),columns:h,hideFooter:!0,density:"compact",sx:{border:0,color:n.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${n.border}`},"& .MuiDataGrid-columnHeaders":{bgcolor:n.bgDark,borderBottom:`1px solid ${n.border}`,color:n.textSecondary,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1}}})})]}),t.jsxs(O,{item:!0,xs:12,md:6,children:[t.jsxs(S,{variant:"overline",sx:{display:"flex",alignItems:"center",gap:1,color:"#4ade80",letterSpacing:2,fontWeight:600,mb:1},children:[t.jsx(Le,{fontSize:"small"})," ",B]}),t.jsx(U,{sx:{height:400,width:"100%",bgcolor:n.bgCard,border:`1px solid ${n.border}`,borderRadius:0},children:t.jsx(ze,{rows:I(z),columns:h,hideFooter:!0,density:"compact",sx:{border:0,color:n.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${n.border}`},"& .MuiDataGrid-columnHeaders":{bgcolor:n.bgDark,borderBottom:`1px solid ${n.border}`,color:n.textSecondary,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1}}})})]})]})]})},xo=d.memo(fo);var Ye={},bo=ne;Object.defineProperty(Ye,"__esModule",{value:!0});var Pt=Ye.default=void 0,po=bo(oe()),go=t;Pt=Ye.default=(0,po.default)((0,go.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics");var Xe={},vo=ne;Object.defineProperty(Xe,"__esModule",{value:!0});var Dt=Xe.default=void 0,mo=vo(oe()),So=t;Dt=Xe.default=(0,mo.default)((0,So.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var qe={},jo=ne;Object.defineProperty(qe,"__esModule",{value:!0});var Ot=qe.default=void 0,yo=jo(oe()),Co=t;Ot=qe.default=(0,yo.default)((0,Co.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var Je={},wo=ne;Object.defineProperty(Je,"__esModule",{value:!0});var Ht=Je.default=void 0,Mo=wo(oe()),Bo=t;Ht=Je.default=(0,Mo.default)((0,Bo.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");const G={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentHover:"#ff7c3c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"},zo=()=>{const e=jt(),{teams:r,loading:l,player:u,matches:x,allmatches:n={}}=dt(o=>o.pappa||{}),b=dt(o=>o.stats.players),[a,s]=d.useState(12),[p,m]=d.useState(0),[B,$]=d.useState(null),[j,z]=d.useState({});d.useEffect(()=>{e(nr(a,12)),e(lr(a,12)),e(ir(a,12))},[e,a]),d.useEffect(()=>{u&&u.player_id&&z(o=>({...o,[u.player_id]:u}))},[u]);const I=d.useCallback(o=>{o.roster.forEach(i=>{e(He(i.player_id))}),$(i=>i===o.name?null:o.name)},[e]),h=d.useCallback((o,i)=>{m(i)},[]),L=d.useCallback(o=>{s(Number(o.target.value)),$(null),z({})},[]);return t.jsxs(P,{sx:{minHeight:"100vh",bgcolor:G.bgDark,color:G.textPrimary,pb:4},children:[t.jsx(U,{elevation:0,sx:{background:`linear-gradient(135deg, ${G.bgDark} 0%, ${G.bgCard} 100%)`,pt:4,pb:2,px:3,borderBottom:`1px solid ${G.border}`},children:t.jsxs(ut,{maxWidth:"xl",children:[t.jsxs(O,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:2,children:[t.jsxs(O,{item:!0,children:[t.jsx(S,{variant:"overline",sx:{color:G.accent,letterSpacing:3,fontWeight:"bold",fontSize:"0.7rem"},children:"CS2 ANALYTICS"}),t.jsx(S,{variant:"h3",sx:{fontWeight:800,color:G.textPrimary,letterSpacing:"-0.02em"},children:"Scouting Report"})]}),t.jsx(O,{item:!0,children:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2,bgcolor:G.bgCard,p:1.5,borderRadius:1,border:`1px solid ${G.border}`},children:[t.jsx(S,{variant:"caption",sx:{color:G.textSecondary,ml:1,textTransform:"uppercase",fontWeight:600,letterSpacing:1},children:"Division"}),t.jsxs(_e,{value:a,onChange:L,variant:"standard",disableUnderline:!0,sx:{color:G.accent,fontWeight:"bold",fontSize:"1.1rem",px:2,py:.5,borderRadius:0,bgcolor:"transparent","&:hover":{color:G.accentHover}},children:[t.jsx(xe,{value:6,children:"Division 6"}),t.jsx(xe,{value:12,children:"Division 12"}),t.jsx(xe,{value:16,children:"Division 16"})]})]})})]}),t.jsxs(Dr,{value:p,onChange:h,sx:{mt:4,"& .MuiTab-root":{color:G.textSecondary,fontWeight:600,textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:1,minHeight:48,transition:"color 0.2s","&:hover":{color:G.textPrimary}},"& .Mui-selected":{color:`${G.accent} !important`},"& .MuiTabs-indicator":{backgroundColor:G.accent,height:2}},children:[t.jsx(Be,{icon:t.jsx(Ht,{fontSize:"small"}),iconPosition:"start",label:"Head-to-Head"}),t.jsx(Be,{icon:t.jsx(Ot,{fontSize:"small"}),iconPosition:"start",label:"Teams & Players"}),t.jsx(Be,{icon:t.jsx(Pt,{fontSize:"small"}),iconPosition:"start",label:"Map Stats"}),t.jsx(Be,{icon:t.jsx(Dt,{fontSize:"small"}),iconPosition:"start",label:"Schedule"})]})]})}),t.jsx(ut,{maxWidth:"xl",sx:{mt:4},children:t.jsx(ar,{in:!l,timeout:500,children:t.jsxs(P,{children:[p===0&&t.jsx(xo,{teams:r,allmatches:n,matches:x,playerStatsById:j,loading:l}),p===1&&t.jsx(Qr,{teams:r,playerStatsById:j,handleTeamClick:I,globalPlayers:b,expandedTeam:B}),p===2&&t.jsx(qr,{allmatches:n}),p===3&&t.jsx(oo,{matches:x})]})})})]})};export{zo as default};
