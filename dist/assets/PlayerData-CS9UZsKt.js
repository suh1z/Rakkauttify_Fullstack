import{k as I,l as g,r as y,p as k,j as r,n as h,T as s,P as d,t as C,v as T}from"./index-0-uk0NCG.js";import{C as w,D as G}from"./DataGrid-C7ts1GZ1.js";import{F as O,I as W,S as N}from"./TextField-CKuF7KSQ.js";import{G as j,C as H,a as L}from"./Tooltip-DF4ySYiM.js";import{g as R,X as f,Y as S,f as $,R as E,T as K}from"./generateCategoricalChart-Co-s6jxU.js";import{L as p}from"./Line-BNU6MHsi.js";import{C as z}from"./CartesianGrid-JCi0erT6.js";import{G as F}from"./GridToolbar-aFlN7BJs.js";import"./Close-CjSUbPKF.js";var Y=R({chartName:"LineChart",GraphicalChild:p,axisComponents:[{axisType:"xAxis",AxisComp:f},{axisType:"yAxis",AxisComp:S}],formatAxisMap:$});const e={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentSecondary:"#4ade80",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},ee=()=>{const b=I(),v=g(t=>t.stats.players),n=g(t=>t.stats.playerStats),[i,P]=y.useState(""),l=Array.isArray(n==null?void 0:n.details)?[...n.details]:[],m=[...l].sort((t,a)=>new Date(t.date)-new Date(a.date));y.useEffect(()=>{b(k())},[]);const D=t=>{const a=t.target.value;P(a),a&&b(T(a))},x=[];if(l.length>0){const t=l[0],a=Object.keys(t),c=["date","map","score","win"];c.forEach(o=>{a.includes(o)&&x.push({field:o,headerName:o.charAt(0).toUpperCase()+o.slice(1),width:o==="date"?180:100,type:o==="win"?"boolean":"string",flex:o==="map"?1:0})}),a.forEach(o=>{c.includes(o)||x.push({field:o,headerName:o.charAt(0).toUpperCase()+o.slice(1),width:110,type:typeof t[o]=="number"?"number":"string"})})}const u=l.map((t,a)=>({id:a,...t})),M=({active:t,payload:a,label:c})=>t&&a&&a.length?r.jsxs(h,{sx:{bgcolor:e.bgCard,p:1.5,border:`1px solid ${e.border}`},children:[r.jsx(s,{sx:{color:e.textPrimary,fontWeight:600,mb:.5},children:c}),a.map((o,A)=>r.jsxs(s,{sx:{color:o.color},children:[o.name,": ",o.value]},A))]}):null;return r.jsx(h,{sx:{minHeight:"100vh",bgcolor:e.bgDark,color:e.textPrimary},children:r.jsxs(w,{maxWidth:"xl",sx:{pt:4,pb:4},children:[r.jsxs(h,{sx:{mb:4},children:[r.jsx(s,{variant:"overline",sx:{color:e.accent,letterSpacing:3,fontWeight:"bold"},children:"INDIVIDUAL TRACKING"}),r.jsx(s,{variant:"h3",sx:{fontWeight:800,color:e.textPrimary},children:"Player Statistics"})]}),r.jsx(d,{sx:{p:3,mb:3,bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:r.jsxs(O,{fullWidth:!0,sx:{maxWidth:300},children:[r.jsx(W,{id:"player-select-label",sx:{color:e.textSecondary},children:"Select Player"}),r.jsxs(N,{labelId:"player-select-label",value:i,onChange:D,label:"Select Player",sx:{color:e.textPrimary,"& .MuiOutlinedInput-notchedOutline":{borderColor:e.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.accent},"& .MuiSvgIcon-root":{color:e.textSecondary}},MenuProps:{PaperProps:{sx:{bgcolor:e.bgCard,border:`1px solid ${e.border}`}}},children:[r.jsx(C,{value:"",sx:{color:e.textSecondary},children:r.jsx("em",{children:"-- Select a Player --"})}),v.map(t=>r.jsx(C,{value:t.nickname,sx:{color:e.textPrimary,"&:hover":{bgcolor:e.bgHover}},children:t.nickname},t.nickname))]})]})}),i&&m.length>0&&r.jsx(j,{container:!0,spacing:3,sx:{mb:3},children:r.jsx(j,{item:!0,xs:12,children:r.jsx(H,{sx:{bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:r.jsxs(L,{children:[r.jsx(s,{variant:"overline",sx:{color:e.accent,letterSpacing:2},children:"TREND ANALYSIS"}),r.jsx(s,{variant:"h6",sx:{color:e.textPrimary,mb:2},children:"Performance Trends (Kills/Deaths)"}),r.jsx(E,{width:"100%",height:300,children:r.jsxs(Y,{data:m,children:[r.jsx(z,{strokeDasharray:"3 3",stroke:e.border}),r.jsx(f,{dataKey:"date",tick:{fill:e.textSecondary,fontSize:12}}),r.jsx(S,{tick:{fill:e.textSecondary}}),r.jsx(K,{content:r.jsx(M,{})}),r.jsx(p,{type:"monotone",dataKey:"kills",stroke:e.accent,name:"Kills",activeDot:{r:8},strokeWidth:2}),r.jsx(p,{type:"monotone",dataKey:"deaths",stroke:e.accentSecondary,name:"Deaths",strokeWidth:2})]})})]})})})}),i&&u.length>0?r.jsxs(r.Fragment,{children:[r.jsx(s,{variant:"overline",sx:{color:e.accent,letterSpacing:2,fontWeight:600,mb:2,display:"block"},children:"MATCH HISTORY"}),r.jsx(d,{sx:{height:700,width:"100%",p:1,bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:r.jsx(G,{rows:u,columns:x,slots:{toolbar:F},slotProps:{toolbar:{showQuickFilter:!0}},initialState:{pagination:{paginationModel:{pageSize:25,page:0}},sorting:{sortModel:[{field:"date",sort:"desc"}]}},pageSizeOptions:[10,25,50,100],disableRowSelectionOnClick:!0,sx:{border:0,color:e.textPrimary,"& .MuiDataGrid-row:hover":{backgroundColor:e.bgHover},"& .MuiDataGrid-columnHeaders":{backgroundColor:e.bgDark,fontWeight:"bold",color:e.textSecondary},"& .MuiDataGrid-cell":{borderColor:e.border},"& .MuiDataGrid-footerContainer":{borderColor:e.border},"& .MuiTablePagination-root":{color:e.textSecondary},"& .MuiIconButton-root":{color:e.textSecondary},"& .MuiDataGrid-toolbarContainer":{color:e.textSecondary,"& .MuiButton-root":{color:e.accent}}}})})]}):i?r.jsx(d,{sx:{p:3,bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:r.jsxs(s,{variant:"body1",sx:{color:e.textSecondary},children:["No match data available for ",i,"."]})}):r.jsx(d,{sx:{p:3,bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:r.jsx(s,{variant:"body1",sx:{color:e.textSecondary},children:"Select a player above to view their match history."})})]})})};export{ee as default};
