import{k as F,l as I,r as l,b as T,q as W,j as t,n,T as a,t as G,P as E}from"./index-k9pw8wb6.js";import{C as K,F as O,I as $,S as z,G as x,b as p,c as g,D as B}from"./DataGrid-Ct7AcCuJ.js";import{R as y,X as f,Y as j,T as S,B as C,G as H}from"./generateCategoricalChart-_9WttMVf.js";import{B as v}from"./BarChart-CjHNEaWB.js";import{C as P}from"./CartesianGrid-BNwsNF0h.js";const e={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentSecondary:"#4ade80",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},Q=()=>{var b;const m=F(),i=I(r=>r.stats.months),[s,d]=l.useState(""),[c,M]=l.useState(null);T(),l.useEffect(()=>{m(W())},[m]),l.useEffect(()=>{if(s){const r=i.find(o=>o.month===s);M(r)}else i&&i.length>0&&(i.length>1?d(i[1].month):d(i[0].month))},[s,i]);const k=r=>{d(r.target.value)},w=[{field:"nickname",headerName:"Nickname",width:160},{field:"matchWins",headerName:"Wins",type:"number",width:90},{field:"matchWinPercent",headerName:"Win %",type:"number",width:110,valueFormatter:r=>`${parseFloat(r||0).toFixed(2)}%`},{field:"matchesPlayed",headerName:"Matches",type:"number",width:100},{field:"roundsPlayed",headerName:"Rounds",type:"number",width:100},{field:"damageDone",headerName:"Damage",type:"number",width:120},{field:"kills",headerName:"Kills",type:"number",width:100},{field:"deaths",headerName:"Deaths",type:"number",width:100},{field:"hsPercent",headerName:"HS %",type:"number",width:110,valueFormatter:r=>`${parseFloat(r||0).toFixed(2)}%`},{field:"kd",headerName:"K/D",type:"number",width:100},{field:"killsPerRound",headerName:"K/R",type:"number",width:100},{field:"entryWinPercent",headerName:"Entry Win %",type:"number",width:140,valueFormatter:r=>`${parseFloat(r||0).toFixed(2)}%`},{field:"rrating",headerName:"Rating",type:"number",width:110}],h=((b=c==null?void 0:c.data)==null?void 0:b.map((r,o)=>({id:o,...r})))||[],D=[...h].sort((r,o)=>o.rrating-r.rrating).slice(0,5),N=[...h].sort((r,o)=>o.kd-r.kd).slice(0,5),u=({active:r,payload:o,label:R})=>r&&o&&o.length?t.jsxs(n,{sx:{bgcolor:e.bgCard,p:1.5,border:`1px solid ${e.border}`},children:[t.jsx(a,{sx:{color:e.textPrimary,fontWeight:600},children:R}),t.jsxs(a,{sx:{color:e.accent},children:[o[0].name,": ",o[0].value]})]}):null;return t.jsx(n,{sx:{minHeight:"100vh",bgcolor:e.bgDark,color:e.textPrimary},children:t.jsxs(K,{maxWidth:"xl",sx:{pt:4,pb:4},children:[t.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center",mb:4,gap:2},children:[t.jsxs(n,{children:[t.jsx(a,{variant:"overline",sx:{color:e.accent,letterSpacing:3,fontWeight:"bold"},children:"INHOUSE TRACKING"}),t.jsx(a,{variant:"h3",sx:{fontWeight:800,color:e.textPrimary},children:"Monthly Statistics"})]}),t.jsxs(O,{variant:"outlined",sx:{minWidth:200},children:[t.jsx($,{id:"month-select-label",sx:{color:e.textSecondary},children:"Select Month"}),t.jsx(z,{labelId:"month-select-label",value:s,onChange:k,label:"Select Month",sx:{color:e.textPrimary,"& .MuiOutlinedInput-notchedOutline":{borderColor:e.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.accent},"& .MuiSvgIcon-root":{color:e.textSecondary}},MenuProps:{PaperProps:{sx:{bgcolor:e.bgCard,border:`1px solid ${e.border}`}}},children:i.map(r=>r.month!=="players"&&t.jsx(G,{value:r.month,sx:{color:e.textPrimary,"&:hover":{bgcolor:e.bgHover}},children:r.month},r.month))})]})]}),t.jsxs(x,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(x,{item:!0,xs:12,md:6,children:t.jsx(p,{sx:{bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:t.jsxs(g,{children:[t.jsx(a,{variant:"overline",sx:{color:e.accent,letterSpacing:2},children:"TOP PERFORMERS"}),t.jsx(a,{variant:"h6",sx:{color:e.textPrimary,mb:2},children:"Top 5 Ratings"}),t.jsx(y,{width:"100%",height:300,children:t.jsxs(v,{data:D,layout:"vertical",margin:{top:5,right:50,left:40,bottom:5},children:[t.jsx(P,{strokeDasharray:"3 3",stroke:e.border,horizontal:!1}),t.jsx(f,{type:"number",domain:[0,"auto"],hide:!0}),t.jsx(j,{type:"category",dataKey:"nickname",width:100,tick:{fill:e.textSecondary}}),t.jsx(S,{content:t.jsx(u,{})}),t.jsx(C,{dataKey:"rrating",name:"Rating",fill:e.accent,barSize:20,radius:[0,4,4,0],label:{position:"right",fill:e.textPrimary}})]})})]})})}),t.jsx(x,{item:!0,xs:12,md:6,children:t.jsx(p,{sx:{bgcolor:e.bgCard,border:`1px solid ${e.border}`},children:t.jsxs(g,{children:[t.jsx(a,{variant:"overline",sx:{color:e.accent,letterSpacing:2},children:"EFFICIENCY"}),t.jsx(a,{variant:"h6",sx:{color:e.textPrimary,mb:2},children:"Top 5 K/D Ratio"}),t.jsx(y,{width:"100%",height:300,children:t.jsxs(v,{data:N,layout:"vertical",margin:{top:5,right:50,left:40,bottom:5},children:[t.jsx(P,{strokeDasharray:"3 3",stroke:e.border,horizontal:!1}),t.jsx(f,{type:"number",domain:[0,"auto"],hide:!0}),t.jsx(j,{type:"category",dataKey:"nickname",width:100,tick:{fill:e.textSecondary}}),t.jsx(S,{content:t.jsx(u,{})}),t.jsx(C,{dataKey:"kd",name:"K/D",fill:e.accentSecondary,barSize:20,radius:[0,4,4,0],label:{position:"right",fill:e.textPrimary}})]})})]})})})]}),t.jsx(a,{variant:"overline",sx:{color:e.accent,letterSpacing:2,fontWeight:600,mb:2,display:"block"},children:"PLAYER DATA"}),t.jsx(E,{sx:{p:0,bgcolor:e.bgCard,border:`1px solid ${e.border}`,overflow:"hidden"},children:t.jsx(n,{sx:{height:700,width:"100%",p:2},children:t.jsx(B,{rows:h,columns:w,slots:{toolbar:H},slotProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}},initialState:{pagination:{paginationModel:{pageSize:10,page:0}},sorting:{sortModel:[{field:"rrating",sort:"desc"}]}},pageSizeOptions:[10,25,50,100],disableRowSelectionOnClick:!0,sx:{border:0,color:e.textPrimary,"& .MuiDataGrid-row:hover":{backgroundColor:e.bgHover},"& .MuiDataGrid-columnHeaders":{backgroundColor:e.bgDark,fontWeight:"bold",color:e.textSecondary},"& .MuiDataGrid-cell":{borderColor:e.border},"& .MuiDataGrid-footerContainer":{borderColor:e.border},"& .MuiTablePagination-root":{color:e.textSecondary},"& .MuiIconButton-root":{color:e.textSecondary},"& .MuiDataGrid-toolbarContainer":{color:e.textSecondary,"& .MuiButton-root":{color:e.accent}}}})})})]})})};export{Q as default};
