import{g as R,a as N,r as u,s as k,B as de,M as pe,c as w,_ as g,P as B,u as I,b as xe,d as H,e as ge,j as e,f as T,h as F,F as he,T as c,i as Q,k as _,l as Z,m as D,C as me,n as ue,o as be,p as fe}from"./index-DBjilKVb.js";import{C as ee,T as y}from"./TablePagination-CNluEYvM.js";import{C as P,a as A,G as j}from"./Tooltip-Cdhas1gH.js";import{D as ve}from"./DataGrid-Rgso-tSM.js";import{A as ye}from"./Avatar-DKAuUy42.js";import{T as je,a as Ce,b as De,c as V,d as ke}from"./TableRow-DsRiWGBl.js";import{B as q}from"./TextField-_rJZz19K.js";import"./Select-Z1DxbmLA.js";import"./Popper-BeDclJBr.js";import"./useSlot-DDzJGst6.js";import"./Close-DY31VacX.js";function Se(r){return N("MuiDialog",r)}const G=R("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),re=u.createContext({}),We=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],we=k(de,{name:"MuiDialog",slot:"Backdrop",overrides:(r,t)=>t.backdrop})({zIndex:-1}),Te=r=>{const{classes:t,scroll:a,maxWidth:s,fullWidth:p,fullScreen:d}=r,h={root:["root"],container:["container",`scroll${w(a)}`],paper:["paper",`paperScroll${w(a)}`,`paperWidth${w(String(s))}`,p&&"paperFullWidth",d&&"paperFullScreen"]};return F(h,Se,t)},$e=k(pe,{name:"MuiDialog",slot:"Root",overridesResolver:(r,t)=>t.root})({"@media print":{position:"absolute !important"}}),Me=k("div",{name:"MuiDialog",slot:"Container",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.container,t[`scroll${w(a.scroll)}`]]}})(({ownerState:r})=>g({height:"100%","@media print":{height:"auto"},outline:0},r.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},r.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),_e=k(B,{name:"MuiDialog",slot:"Paper",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.paper,t[`scrollPaper${w(a.scroll)}`],t[`paperWidth${w(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})(({theme:r,ownerState:t})=>g({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:r.breakpoints.unit==="px"?Math.max(r.breakpoints.values.xs,444):`max(${r.breakpoints.values.xs}${r.breakpoints.unit}, 444px)`,[`&.${G.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`,[`&.${G.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${G.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Pe=u.forwardRef(function(t,a){const s=I({props:t,name:"MuiDialog"}),p=xe(),d={enter:p.transitions.duration.enteringScreen,exit:p.transitions.duration.leavingScreen},{"aria-describedby":h,"aria-labelledby":x,BackdropComponent:b,BackdropProps:v,children:$,className:S,disableEscapeKeyDown:n=!1,fullScreen:m=!1,fullWidth:f=!1,maxWidth:l="sm",onBackdropClick:C,onClick:K,onClose:U,open:O,PaperComponent:te=B,PaperProps:Y={},scroll:oe="paper",TransitionComponent:ae=he,transitionDuration:X=d,TransitionProps:se}=s,ne=H(s,We),M=g({},s,{disableEscapeKeyDown:n,fullScreen:m,fullWidth:f,maxWidth:l,scroll:oe}),z=Te(M),E=u.useRef(),ie=W=>{E.current=W.target===W.currentTarget},le=W=>{K&&K(W),E.current&&(E.current=null,C&&C(W),U&&U(W,"backdropClick"))},L=ge(x),ce=u.useMemo(()=>({titleId:L}),[L]);return e.jsx($e,g({className:T(z.root,S),closeAfterTransition:!0,components:{Backdrop:we},componentsProps:{backdrop:g({transitionDuration:X,as:b},v)},disableEscapeKeyDown:n,onClose:U,open:O,ref:a,onClick:le,ownerState:M},ne,{children:e.jsx(ae,g({appear:!0,in:O,timeout:X,role:"presentation"},se,{children:e.jsx(Me,{className:T(z.container),onMouseDown:ie,ownerState:M,children:e.jsx(_e,g({as:te,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":L},Y,{className:T(z.paper,Y.className),ownerState:M,children:e.jsx(re.Provider,{value:ce,children:$})}))})}))}))});function Ae(r){return N("MuiDialogActions",r)}R("MuiDialogActions",["root","spacing"]);const Re=["className","disableSpacing"],Ne=r=>{const{classes:t,disableSpacing:a}=r;return F({root:["root",!a&&"spacing"]},Ae,t)},Be=k("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.root,!a.disableSpacing&&t.spacing]}})(({ownerState:r})=>g({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!r.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ie=u.forwardRef(function(t,a){const s=I({props:t,name:"MuiDialogActions"}),{className:p,disableSpacing:d=!1}=s,h=H(s,Re),x=g({},s,{disableSpacing:d}),b=Ne(x);return e.jsx(Be,g({className:T(b.root,p),ownerState:x,ref:a},h))});function He(r){return N("MuiDialogContent",r)}R("MuiDialogContent",["root","dividers"]);function Fe(r){return N("MuiDialogTitle",r)}const Ue=R("MuiDialogTitle",["root"]),ze=["className","dividers"],Ee=r=>{const{classes:t,dividers:a}=r;return F({root:["root",a&&"dividers"]},He,t)},Le=k("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.root,a.dividers&&t.dividers]}})(({theme:r,ownerState:t})=>g({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}:{[`.${Ue.root} + &`]:{paddingTop:0}})),Ge=u.forwardRef(function(t,a){const s=I({props:t,name:"MuiDialogContent"}),{className:p,dividers:d=!1}=s,h=H(s,ze),x=g({},s,{dividers:d}),b=Ee(x);return e.jsx(Le,g({className:T(b.root,p),ownerState:x,ref:a},h))}),Ke=["className","id"],Oe=r=>{const{classes:t}=r;return F({root:["root"]},Fe,t)},Ye=k(c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(r,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Xe=u.forwardRef(function(t,a){const s=I({props:t,name:"MuiDialogTitle"}),{className:p,id:d}=s,h=H(s,Ke),x=s,b=Oe(x),{titleId:v=d}=u.useContext(re);return e.jsx(Ye,g({component:"h2",className:T(b.root,p),ownerState:x,ref:a,variant:"h6",id:d??v},h))}),i={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",yellow:"#facc15",red:"#ef4444",team1:"rgba(222, 108, 44, 0.12)",team1Hover:"rgba(222, 108, 44, 0.2)",team2:"rgba(74, 222, 128, 0.08)",team2Hover:"rgba(74, 222, 128, 0.15)"},Ve=({matchId:r,url:t})=>{var S,n,m,f;const a=Q(),s=_(l=>l.stats.match);if(u.useEffect(()=>{r&&t&&a(Z(r,t))},[a,r,t]),!s||!s.player_scores)return e.jsx(D,{sx:{p:3,textAlign:"center"},children:e.jsx(c,{sx:{color:i.textSecondary},children:"Loading match stats..."})});const p=((S=s.player_scores[0])==null?void 0:S.team)??"Team 1",d=((n=s.player_scores[9])==null?void 0:n.team)??"Team 2",h=((m=s.player_scores[0])==null?void 0:m.team_rounds)??0,x=((f=s.player_scores[9])==null?void 0:f.team_rounds)??0,b=[{field:"avatar",headerName:"",width:50,sortable:!1,display:"flex",renderCell:l=>{var C;return e.jsx(D,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:e.jsx(ye,{src:l.value,alt:l.row.nickname,variant:"rounded",sx:{width:28,height:28,bgcolor:i.bgHover},children:(C=l.row.nickname)==null?void 0:C.charAt(0)})})}},{field:"nickname",headerName:"Nickname",flex:1,minWidth:120,renderCell:l=>e.jsx(D,{sx:{display:"flex",alignItems:"center",height:"100%",overflow:"hidden"},children:e.jsx(c,{fontWeight:"bold",variant:"body2",noWrap:!0,title:l.value,sx:{color:i.textPrimary},children:l.value})})},{field:"kills",headerName:"K",type:"number",width:50,align:"center",headerAlign:"center"},{field:"assists",headerName:"A",type:"number",width:50,align:"center",headerAlign:"center"},{field:"deaths",headerName:"D",type:"number",width:50,align:"center",headerAlign:"center"},{field:"hs_percent",headerName:"HS%",type:"number",width:60,align:"center",headerAlign:"center",valueFormatter:l=>`${l}%`},{field:"kd",headerName:"K/D",type:"number",width:60,align:"center",headerAlign:"center",valueFormatter:l=>l?parseFloat(l).toFixed(2):"0.00"},{field:"ud",headerName:"UD",type:"number",width:60,align:"center",headerAlign:"center"},{field:"adr",headerName:"ADR",type:"number",width:60,align:"center",headerAlign:"center"},{field:"faceit_elo",headerName:"Elo",type:"number",width:60,align:"center",headerAlign:"center"},{field:"rrating",headerName:"Rating",type:"number",width:80,align:"center",headerAlign:"center",renderCell:l=>e.jsx(D,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(me,{label:l.value,size:"small",sx:{fontWeight:"bold",height:24,bgcolor:l.value>=1.2?i.green:l.value>=1?i.yellow:"transparent",color:l.value>=1?i.bgDark:i.textSecondary,border:l.value<1?`1px solid ${i.border}`:"none"}})})}],v=l=>l.row.team_id===2?"team-row-1":l.row.team_id===3?"team-row-2":"",$=s.player_scores.map((l,C)=>({id:C,...l}));return e.jsxs(ee,{maxWidth:"md",sx:{mt:3,mb:3},children:[e.jsx(P,{sx:{mb:3,background:`linear-gradient(135deg, ${i.bgCard} 0%, ${i.bgDark} 100%)`,border:`1px solid ${i.border}`},children:e.jsx(A,{children:e.jsxs(j,{container:!0,alignItems:"center",justifyContent:"center",children:[e.jsxs(j,{item:!0,xs:12,sm:4,sx:{textAlign:{xs:"center",sm:"right"},pr:{sm:2},mb:{xs:1,sm:0}},children:[e.jsx(c,{variant:"h5",fontWeight:"bold",noWrap:!0,sx:{color:i.accent},children:p}),e.jsx(c,{variant:"subtitle2",sx:{color:i.textSecondary},children:"Team 1"})]}),e.jsx(j,{item:!0,xs:12,sm:4,sx:{textAlign:"center",mb:{xs:1,sm:0}},children:e.jsx(D,{sx:{bgcolor:"rgba(255,255,255,0.05)",border:`1px solid ${i.border}`,px:4,py:1,minWidth:140,display:"inline-block"},children:e.jsxs(c,{variant:"h3",fontWeight:"bold",sx:{color:i.textPrimary},children:[h," : ",x]})})}),e.jsxs(j,{item:!0,xs:12,sm:4,sx:{textAlign:{xs:"center",sm:"left"},pl:{sm:2}},children:[e.jsx(c,{variant:"h5",fontWeight:"bold",noWrap:!0,sx:{color:i.green},children:d}),e.jsx(c,{variant:"subtitle2",sx:{color:i.textSecondary},children:"Team 2"})]})]})})}),e.jsx(B,{sx:{width:"100%",bgcolor:i.bgCard,border:`1px solid ${i.border}`,"& .team-row-1":{bgcolor:i.team1},"& .team-row-1:hover":{bgcolor:i.team1Hover},"& .team-row-2":{bgcolor:i.team2},"& .team-row-2:hover":{bgcolor:i.team2Hover}},children:e.jsx(ve,{rows:$,columns:b,getRowClassName:v,hideFooter:!0,density:"compact",autoHeight:!0,disableRowSelectionOnClick:!0,initialState:{sorting:{sortModel:[{field:"rrating",sort:"desc"}]}},sx:{border:0,color:i.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${i.border}`},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.bgDark,fontWeight:"bold",textTransform:"uppercase",fontSize:"0.75rem",color:i.textSecondary}}})})]})},o={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},J={de_dust2:"/maps/dust2.png",de_mirage:"/maps/mirage.png",de_inferno:"/maps/inferno.png",de_nuke:"/maps/nuke.png",de_overpass:"/maps/overpass.png",de_ancient:"/maps/ancient.png",de_anubis:"/maps/anubis.png",de_vertigo:"/maps/vertigo.png",cs_office:"/maps/office.png",de_train:"/maps/train.png",de_cache:"/maps/cache.png"},qe=r=>{if(!r)return null;const t=r.toLowerCase().replace(/\s/g,"_");return J[t]||J[`de_${t}`]||null},lr=()=>{const r=Q(),[t,a]=u.useState(null),[s,p]=u.useState(!1),d=_(n=>n.stats.matches),h=_(n=>n.stats.players),x=_(n=>n.stats.months);u.useEffect(()=>{r(ue()),r(be()),r(fe())},[r]);const b=n=>{a(n),r(Z(n.matchId,n.url)),p(!0)},v=()=>{p(!1),a(null)},$=n=>{const m=/team_(.*?)_vs_team_(.*?)(?=\.)/,f=n.match(m);return f?`${f[1]} vs ${f[2]}`:"Unknown Teams"},S=n=>{n.stopPropagation()};return e.jsx(D,{sx:{minHeight:"100vh",bgcolor:o.bgDark,color:o.textPrimary,pb:4},children:e.jsxs(ee,{maxWidth:"xl",sx:{pt:4},children:[e.jsxs(D,{sx:{mb:4},children:[e.jsx(c,{variant:"overline",sx:{color:o.accent,letterSpacing:3,fontWeight:"bold"},children:"INHOUSE STATS"}),e.jsx(c,{variant:"h3",sx:{fontWeight:800,color:o.textPrimary},children:"Rakkauden Kanaali"})]}),e.jsxs(j,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsx(P,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(A,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Matches"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:d.length})]})})}),e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsx(P,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(A,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Players"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:h.length})]})})}),e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsx(P,{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(A,{children:[e.jsx(c,{variant:"overline",sx:{color:o.textSecondary,letterSpacing:2},children:"Total Months"}),e.jsx(c,{variant:"h3",sx:{color:o.accent,fontWeight:800},children:x.length-1})]})})})]}),e.jsx(c,{variant:"overline",sx:{color:o.accent,letterSpacing:2,fontWeight:600,mb:2,display:"block"},children:"MATCH HISTORY"}),e.jsx(je,{component:B,sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`},children:e.jsxs(Ce,{children:[e.jsx(De,{children:e.jsxs(V,{sx:{bgcolor:o.bgDark},children:[e.jsx(y,{sx:{color:o.textSecondary},children:"Date"}),e.jsx(y,{sx:{color:o.textSecondary},children:"Teams"}),e.jsx(y,{sx:{color:o.textSecondary},children:"Map"}),e.jsx(y,{sx:{color:o.textSecondary},children:"Demo"})]})}),e.jsx(ke,{children:d.map(n=>{var f;const m=qe(n.map);return e.jsxs(V,{onClick:()=>b(n),sx:{cursor:"pointer",position:"relative",height:80,backgroundImage:m?`linear-gradient(to right, rgba(13,13,13,0.95) 0%, rgba(13,13,13,0.85) 40%, rgba(26,26,26,0.6) 100%), url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat","&:hover":{backgroundImage:m?`linear-gradient(to right, rgba(37,37,37,0.9) 0%, rgba(37,37,37,0.7) 40%, rgba(37,37,37,0.4) 100%), url(${m})`:"none",bgcolor:m?"transparent":o.bgHover,transform:"scale(1.01)"},transition:"all 0.3s ease",borderBottom:`1px solid ${o.border}`},children:[e.jsx(y,{sx:{color:o.textPrimary},children:n.date}),e.jsx(y,{sx:{color:o.textPrimary,fontWeight:600},children:$(n.url)}),e.jsx(y,{children:e.jsx(c,{sx:{color:o.accent,fontWeight:700,textTransform:"uppercase",letterSpacing:1},children:(f=n.map)==null?void 0:f.replace("de_","").replace("cs_","")})}),e.jsx(y,{children:e.jsx(q,{variant:"contained",size:"small",href:n.demo_url,download:!0,onClick:S,sx:{bgcolor:o.accent,"&:hover":{bgcolor:"#ff7c3c"}},children:"Download"})})]},n.matchId)})})]})}),e.jsxs(Pe,{open:s,onClose:v,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:o.bgCard,border:`1px solid ${o.border}`}},children:[e.jsx(Xe,{sx:{color:o.accent,textTransform:"uppercase",letterSpacing:2},children:"Match Details"}),e.jsx(Ge,{children:t?e.jsx(Ve,{matchId:t.matchId,url:t.url}):e.jsx(c,{variant:"body1",sx:{color:o.textSecondary},children:"Loading match details..."})}),e.jsx(Ie,{sx:{borderTop:`1px solid ${o.border}`},children:e.jsx(q,{onClick:v,sx:{color:o.accent},children:"Close"})})]})]})})};export{lr as default};
