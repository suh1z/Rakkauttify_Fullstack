import{r as d,g as me,a as Se,s as Z,w as Fe,c as be,_ as R,u as je,d as de,f as Y,j as t,h as ye,x as Jt,y as gt,z as vt,A as mt,C as Re,b as Zt,D as De,E as Qt,G as er,P as U,T as j,n as W,t as fe,H as tr,I as re,J as oe,k as rr,l as Oe,K as or,L as nr,N as lr,O as ar,F as ir}from"./index-6bpq1gXI.js";import{R as St,X as jt,Y as yt,T as Ct,z as Bt,B as ke,G as sr}from"./generateCategoricalChart-YPdEnS0l.js";import{B as Mt}from"./BarChart-CLlbfNDE.js";import{K as cr,f as dr,g as Me,G as D,F as Ne,I as Ae,S as ze,D as Ie,b as wt,c as Tt,h as $e,d as _e,i as ur,C as dt}from"./DataGrid-DaT15woA.js";import{A as ve}from"./Avatar-C-Yn1Ohd.js";let he;function $t(){if(he)return he;const e=document.createElement("div"),r=document.createElement("div");return r.style.width="10px",r.style.height="1px",e.appendChild(r),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),he="reverse",e.scrollLeft>0?he="default":(e.scrollLeft=1,e.scrollLeft===0&&(he="negative")),document.body.removeChild(e),he}function hr(e,r){const l=e.scrollLeft;if(r!=="rtl")return l;switch($t()){case"negative":return e.scrollWidth-e.clientWidth+l;case"reverse":return e.scrollWidth-e.clientWidth-l;default:return l}}function xr(e){return d.Children.toArray(e).filter(r=>d.isValidElement(r))}function fr(e){return Se("MuiTab",e)}const te=me("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),br=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],pr=e=>{const{classes:r,textColor:l,fullWidth:c,wrapped:o,icon:p,label:i,selected:x,disabled:s}=e,b={root:["root",p&&i&&"labelIcon",`textColor${be(l)}`,c&&"fullWidth",o&&"wrapped",x&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]};return ye(b,fr,r)},gr=Z(Fe,{name:"MuiTab",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,l.label&&l.icon&&r.labelIcon,r[`textColor${be(l.textColor)}`],l.fullWidth&&r.fullWidth,l.wrapped&&r.wrapped,{[`& .${te.iconWrapper}`]:r.iconWrapper}]}})(({theme:e,ownerState:r})=>R({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},r.label&&{flexDirection:r.iconPosition==="top"||r.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},r.icon&&r.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${te.iconWrapper}`]:R({},r.iconPosition==="top"&&{marginBottom:6},r.iconPosition==="bottom"&&{marginTop:6},r.iconPosition==="start"&&{marginRight:e.spacing(1)},r.iconPosition==="end"&&{marginLeft:e.spacing(1)})},r.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${te.selected}`]:{opacity:1},[`&.${te.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},r.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${te.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${te.disabled}`]:{color:(e.vars||e).palette.text.disabled}},r.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${te.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${te.disabled}`]:{color:(e.vars||e).palette.text.disabled}},r.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},r.wrapped&&{fontSize:e.typography.pxToRem(12)})),we=d.forwardRef(function(r,l){const c=je({props:r,name:"MuiTab"}),{className:o,disabled:p=!1,disableFocusRipple:i=!1,fullWidth:x,icon:s,iconPosition:b="top",indicator:m,label:B,onChange:w,onClick:y,onFocus:A,selected:I,selectionFollowsFocus:u,textColor:g="inherit",value:n,wrapped:h=!1}=c,a=de(c,br),M=R({},c,{disabled:p,disableFocusRipple:i,selected:I,icon:!!s,iconPosition:b,label:!!B,fullWidth:x,textColor:g,wrapped:h}),P=pr(M),S=s&&B&&d.isValidElement(s)?d.cloneElement(s,{className:Y(P.iconWrapper,s.props.className)}):s,z=k=>{!I&&w&&w(k,n),y&&y(k)},E=k=>{u&&!I&&w&&w(k,n),A&&A(k)};return t.jsxs(gr,R({focusRipple:!i,className:Y(P.root,o),ref:l,role:"tab","aria-selected":I,disabled:p,onClick:z,onFocus:E,ownerState:M,tabIndex:I?0:-1},a,{children:[b==="top"||b==="start"?t.jsxs(d.Fragment,{children:[S,B]}):t.jsxs(d.Fragment,{children:[B,S]}),m]}))});function vr(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function mr(e,r,l,c={},o=()=>{}){const{ease:p=vr,duration:i=300}=c;let x=null;const s=r[e];let b=!1;const m=()=>{b=!0},B=w=>{if(b){o(new Error("Animation cancelled"));return}x===null&&(x=w);const y=Math.min(1,(w-x)/i);if(r[e]=p(y)*(l-s)+s,y>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(B)};return s===l?(o(new Error("Element already at target position")),m):(requestAnimationFrame(B),m)}const Sr=["onChange"],jr={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function yr(e){const{onChange:r}=e,l=de(e,Sr),c=d.useRef(),o=d.useRef(null),p=()=>{c.current=o.current.offsetHeight-o.current.clientHeight};return Jt(()=>{const i=vt(()=>{const s=c.current;p(),s!==c.current&&r(c.current)}),x=gt(o.current);return x.addEventListener("resize",i),()=>{i.clear(),x.removeEventListener("resize",i)}},[r]),d.useEffect(()=>{p(),r(c.current)},[r]),t.jsx("div",R({style:jr},l,{ref:o}))}function Cr(e){return Se("MuiTabScrollButton",e)}const Br=me("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Mr=["className","slots","slotProps","direction","orientation","disabled"],wr=e=>{const{classes:r,orientation:l,disabled:c}=e;return ye({root:["root",l,c&&"disabled"]},Cr,r)},Tr=Z(Fe,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,l.orientation&&r[l.orientation]]}})(({ownerState:e})=>R({width:40,flexShrink:0,opacity:.8,[`&.${Br.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),$r=d.forwardRef(function(r,l){var c,o;const p=je({props:r,name:"MuiTabScrollButton"}),{className:i,slots:x={},slotProps:s={},direction:b}=p,m=de(p,Mr),B=mt(),w=R({isRtl:B},p),y=wr(w),A=(c=x.StartScrollButtonIcon)!=null?c:cr,I=(o=x.EndScrollButtonIcon)!=null?o:dr,u=Re({elementType:A,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w}),g=Re({elementType:I,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w});return t.jsx(Tr,R({component:"div",className:Y(y.root,i),ref:l,role:null,ownerState:w,tabIndex:null},m,{children:b==="left"?t.jsx(A,R({},u)):t.jsx(I,R({},g))}))});function Rr(e){return Se("MuiTabs",e)}const He=me("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),kr=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ut=(e,r)=>e===r?e.firstChild:r&&r.nextElementSibling?r.nextElementSibling:e.firstChild,ht=(e,r)=>e===r?e.lastChild:r&&r.previousElementSibling?r.previousElementSibling:e.lastChild,Te=(e,r,l)=>{let c=!1,o=l(e,r);for(;o;){if(o===e.firstChild){if(c)return;c=!0}const p=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||p)o=l(e,o);else{o.focus();return}}},zr=e=>{const{vertical:r,fixed:l,hideScrollbar:c,scrollableX:o,scrollableY:p,centered:i,scrollButtonsHideMobile:x,classes:s}=e;return ye({root:["root",r&&"vertical"],scroller:["scroller",l&&"fixed",c&&"hideScrollbar",o&&"scrollableX",p&&"scrollableY"],flexContainer:["flexContainer",r&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",x&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[c&&"hideScrollbar"]},Rr,s)},Ir=Z("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[{[`& .${He.scrollButtons}`]:r.scrollButtons},{[`& .${He.scrollButtons}`]:l.scrollButtonsHideMobile&&r.scrollButtonsHideMobile},r.root,l.vertical&&r.vertical]}})(({ownerState:e,theme:r})=>R({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${He.scrollButtons}`]:{[r.breakpoints.down("sm")]:{display:"none"}}})),_r=Z("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.scroller,l.fixed&&r.fixed,l.hideScrollbar&&r.hideScrollbar,l.scrollableX&&r.scrollableX,l.scrollableY&&r.scrollableY]}})(({ownerState:e})=>R({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Wr=Z("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.flexContainer,l.vertical&&r.flexContainerVertical,l.centered&&r.centered]}})(({ownerState:e})=>R({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Pr=Z("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,r)=>r.indicator})(({ownerState:e,theme:r})=>R({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(r.vars||r).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(r.vars||r).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Er=Z(yr)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),xt={},Dr=d.forwardRef(function(r,l){const c=je({props:r,name:"MuiTabs"}),o=Zt(),p=mt(),{"aria-label":i,"aria-labelledby":x,action:s,centered:b=!1,children:m,className:B,component:w="div",allowScrollButtonsMobile:y=!1,indicatorColor:A="primary",onChange:I,orientation:u="horizontal",ScrollButtonComponent:g=$r,scrollButtons:n="auto",selectionFollowsFocus:h,slots:a={},slotProps:M={},TabIndicatorProps:P={},TabScrollButtonProps:S={},textColor:z="primary",value:E,variant:k="standard",visibleScrollbar:ne=!1}=c,L=de(c,kr),O=k==="scrollable",V=u==="vertical",le=V?"scrollTop":"scrollLeft",ue=V?"top":"left",ae=V?"bottom":"right",X=V?"clientHeight":"clientWidth",q=V?"height":"width",ie=R({},c,{component:w,allowScrollButtonsMobile:y,indicatorColor:A,orientation:u,vertical:V,scrollButtons:n,textColor:z,variant:k,visibleScrollbar:ne,fixed:!O,hideScrollbar:O&&!ne,scrollableX:O&&!V,scrollableY:O&&V,centered:b&&!O,scrollButtonsHideMobile:!y}),Q=zr(ie),Ot=Re({elementType:a.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:ie}),Ht=Re({elementType:a.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:ie}),[Ze,Nt]=d.useState(!1),[se,Qe]=d.useState(xt),[et,At]=d.useState(!1),[tt,Lt]=d.useState(!1),[rt,Ft]=d.useState(!1),[ot,Gt]=d.useState({overflow:"hidden",scrollbarWidth:0}),nt=new Map,J=d.useRef(null),ce=d.useRef(null),lt=()=>{const f=J.current;let v;if(f){const T=f.getBoundingClientRect();v={clientWidth:f.clientWidth,scrollLeft:f.scrollLeft,scrollTop:f.scrollTop,scrollLeftNormalized:hr(f,p?"rtl":"ltr"),scrollWidth:f.scrollWidth,top:T.top,bottom:T.bottom,left:T.left,right:T.right}}let $;if(f&&E!==!1){const T=ce.current.children;if(T.length>0){const H=T[nt.get(E)];$=H?H.getBoundingClientRect():null}}return{tabsMeta:v,tabMeta:$}},pe=De(()=>{const{tabsMeta:f,tabMeta:v}=lt();let $=0,T;if(V)T="top",v&&f&&($=v.top-f.top+f.scrollTop);else if(T=p?"right":"left",v&&f){const G=p?f.scrollLeftNormalized+f.clientWidth-f.scrollWidth:f.scrollLeft;$=(p?-1:1)*(v[T]-f[T]+G)}const H={[T]:$,[q]:v?v[q]:0};if(isNaN(se[T])||isNaN(se[q]))Qe(H);else{const G=Math.abs(se[T]-H[T]),K=Math.abs(se[q]-H[q]);(G>=1||K>=1)&&Qe(H)}}),We=(f,{animation:v=!0}={})=>{v?mr(le,J.current,f,{duration:o.transitions.duration.standard}):J.current[le]=f},at=f=>{let v=J.current[le];V?v+=f:(v+=f*(p?-1:1),v*=p&&$t()==="reverse"?-1:1),We(v)},it=()=>{const f=J.current[X];let v=0;const $=Array.from(ce.current.children);for(let T=0;T<$.length;T+=1){const H=$[T];if(v+H[X]>f){T===0&&(v=f);break}v+=H[X]}return v},Vt=()=>{at(-1*it())},Ut=()=>{at(it())},Kt=d.useCallback(f=>{Gt({overflow:null,scrollbarWidth:f})},[]),Yt=()=>{const f={};f.scrollbarSizeListener=O?t.jsx(Er,{onChange:Kt,className:Y(Q.scrollableX,Q.hideScrollbar)}):null;const $=O&&(n==="auto"&&(et||tt)||n===!0);return f.scrollButtonStart=$?t.jsx(g,R({slots:{StartScrollButtonIcon:a.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ot},orientation:u,direction:p?"right":"left",onClick:Vt,disabled:!et},S,{className:Y(Q.scrollButtons,S.className)})):null,f.scrollButtonEnd=$?t.jsx(g,R({slots:{EndScrollButtonIcon:a.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ht},orientation:u,direction:p?"left":"right",onClick:Ut,disabled:!tt},S,{className:Y(Q.scrollButtons,S.className)})):null,f},st=De(f=>{const{tabsMeta:v,tabMeta:$}=lt();if(!(!$||!v)){if($[ue]<v[ue]){const T=v[le]+($[ue]-v[ue]);We(T,{animation:f})}else if($[ae]>v[ae]){const T=v[le]+($[ae]-v[ae]);We(T,{animation:f})}}}),Ce=De(()=>{O&&n!==!1&&Ft(!rt)});d.useEffect(()=>{const f=vt(()=>{J.current&&pe()});let v;const $=G=>{G.forEach(K=>{K.removedNodes.forEach(ge=>{var ee;(ee=v)==null||ee.unobserve(ge)}),K.addedNodes.forEach(ge=>{var ee;(ee=v)==null||ee.observe(ge)})}),f(),Ce()},T=gt(J.current);T.addEventListener("resize",f);let H;return typeof ResizeObserver<"u"&&(v=new ResizeObserver(f),Array.from(ce.current.children).forEach(G=>{v.observe(G)})),typeof MutationObserver<"u"&&(H=new MutationObserver($),H.observe(ce.current,{childList:!0})),()=>{var G,K;f.clear(),T.removeEventListener("resize",f),(G=H)==null||G.disconnect(),(K=v)==null||K.disconnect()}},[pe,Ce]),d.useEffect(()=>{const f=Array.from(ce.current.children),v=f.length;if(typeof IntersectionObserver<"u"&&v>0&&O&&n!==!1){const $=f[0],T=f[v-1],H={root:J.current,threshold:.99},G=Ee=>{At(!Ee[0].isIntersecting)},K=new IntersectionObserver(G,H);K.observe($);const ge=Ee=>{Lt(!Ee[0].isIntersecting)},ee=new IntersectionObserver(ge,H);return ee.observe(T),()=>{K.disconnect(),ee.disconnect()}}},[O,n,rt,m==null?void 0:m.length]),d.useEffect(()=>{Nt(!0)},[]),d.useEffect(()=>{pe()}),d.useEffect(()=>{st(xt!==se)},[st,se]),d.useImperativeHandle(s,()=>({updateIndicator:pe,updateScrollButtons:Ce}),[pe,Ce]);const ct=t.jsx(Pr,R({},P,{className:Y(Q.indicator,P.className),ownerState:ie,style:R({},se,P.style)}));let Be=0;const Xt=d.Children.map(m,f=>{if(!d.isValidElement(f))return null;const v=f.props.value===void 0?Be:f.props.value;nt.set(v,Be);const $=v===E;return Be+=1,d.cloneElement(f,R({fullWidth:k==="fullWidth",indicator:$&&!Ze&&ct,selected:$,selectionFollowsFocus:h,onChange:I,textColor:z,value:v},Be===1&&E===!1&&!f.props.tabIndex?{tabIndex:0}:{}))}),qt=f=>{const v=ce.current,$=Qt(v).activeElement;if($.getAttribute("role")!=="tab")return;let H=u==="horizontal"?"ArrowLeft":"ArrowUp",G=u==="horizontal"?"ArrowRight":"ArrowDown";switch(u==="horizontal"&&p&&(H="ArrowRight",G="ArrowLeft"),f.key){case H:f.preventDefault(),Te(v,$,ht);break;case G:f.preventDefault(),Te(v,$,ut);break;case"Home":f.preventDefault(),Te(v,null,ut);break;case"End":f.preventDefault(),Te(v,null,ht);break}},Pe=Yt();return t.jsxs(Ir,R({className:Y(Q.root,B),ownerState:ie,ref:l,as:w},L,{children:[Pe.scrollButtonStart,Pe.scrollbarSizeListener,t.jsxs(_r,{className:Q.scroller,ownerState:ie,style:{overflow:ot.overflow,[V?`margin${p?"Left":"Right"}`:"marginBottom"]:ne?void 0:-ot.scrollbarWidth},ref:J,children:[t.jsx(Wr,{"aria-label":i,"aria-labelledby":x,"aria-orientation":u==="vertical"?"vertical":null,className:Q.flexContainer,ownerState:ie,onKeyDown:qt,ref:ce,role:"tablist",children:Xt}),Ze&&ct]}),Pe.scrollButtonEnd]}))});function Or(e){return Se("MuiToggleButton",e)}const xe=me("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Rt=d.createContext({}),kt=d.createContext(void 0);function Hr(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.indexOf(e)>=0:e===r}const Nr=["value"],Ar=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Lr=e=>{const{classes:r,fullWidth:l,selected:c,disabled:o,size:p,color:i}=e,x={root:["root",c&&"selected",o&&"disabled",l&&"fullWidth",`size${be(p)}`,i]};return ye(x,Or,r)},Fr=Z(Fe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[r.root,r[`size${be(l.size)}`]]}})(({theme:e,ownerState:r})=>{let l=r.color==="standard"?e.palette.text.primary:e.palette[r.color].main,c;return e.vars&&(l=r.color==="standard"?e.vars.palette.text.primary:e.vars.palette[r.color].main,c=r.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[r.color].mainChannel),R({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},r.fullWidth&&{width:"100%"},{[`&.${xe.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xe.selected}`]:{color:l,backgroundColor:e.vars?`rgba(${c} / ${e.vars.palette.action.selectedOpacity})`:Me(l,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${c} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Me(l,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${c} / ${e.vars.palette.action.selectedOpacity})`:Me(l,e.palette.action.selectedOpacity)}}}},r.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},r.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),ft=d.forwardRef(function(r,l){const c=d.useContext(Rt),{value:o}=c,p=de(c,Nr),i=d.useContext(kt),x=er(R({},p,{selected:Hr(r.value,o)}),r),s=je({props:x,name:"MuiToggleButton"}),{children:b,className:m,color:B="standard",disabled:w=!1,disableFocusRipple:y=!1,fullWidth:A=!1,onChange:I,onClick:u,selected:g,size:n="medium",value:h}=s,a=de(s,Ar),M=R({},s,{color:B,disabled:w,disableFocusRipple:y,fullWidth:A,size:n}),P=Lr(M),S=E=>{u&&(u(E,h),E.defaultPrevented)||I&&I(E,h)},z=i||"";return t.jsx(Fr,R({className:Y(p.className,P.root,m,z),disabled:w,focusRipple:!y,ref:l,onClick:S,onChange:I,value:h,ownerState:M,"aria-pressed":g},a,{children:b}))});function Gr(e){return Se("MuiToggleButtonGroup",e)}const _=me("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Vr=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Ur=e=>{const{classes:r,orientation:l,fullWidth:c,disabled:o}=e,p={root:["root",l==="vertical"&&"vertical",c&&"fullWidth"],grouped:["grouped",`grouped${be(l)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ye(p,Gr,r)},Kr=Z("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:l}=e;return[{[`& .${_.grouped}`]:r.grouped},{[`& .${_.grouped}`]:r[`grouped${be(l.orientation)}`]},{[`& .${_.firstButton}`]:r.firstButton},{[`& .${_.lastButton}`]:r.lastButton},{[`& .${_.middleButton}`]:r.middleButton},r.root,l.orientation==="vertical"&&r.vertical,l.fullWidth&&r.fullWidth]}})(({ownerState:e,theme:r})=>R({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${_.grouped}`]:R({},e.orientation==="horizontal"?{[`&.${_.selected} + .${_.grouped}.${_.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${_.selected} + .${_.grouped}.${_.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${_.firstButton},& .${_.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${_.lastButton},& .${_.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${_.firstButton},& .${_.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${_.lastButton},& .${_.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${_.lastButton}.${xe.disabled},& .${_.middleButton}.${xe.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${_.lastButton}.${xe.disabled},& .${_.middleButton}.${xe.disabled}`]:{borderTop:"1px solid transparent"}})),Yr=d.forwardRef(function(r,l){const c=je({props:r,name:"MuiToggleButtonGroup"}),{children:o,className:p,color:i="standard",disabled:x=!1,exclusive:s=!1,fullWidth:b=!1,onChange:m,orientation:B="horizontal",size:w="medium",value:y}=c,A=de(c,Vr),I=R({},c,{disabled:x,fullWidth:b,orientation:B,size:w}),u=Ur(I),g=d.useCallback((S,z)=>{if(!m)return;const E=y&&y.indexOf(z);let k;y&&E>=0?(k=y.slice(),k.splice(E,1)):k=y?y.concat(z):[z],m(S,k)},[m,y]),n=d.useCallback((S,z)=>{m&&m(S,y===z?null:z)},[m,y]),h=d.useMemo(()=>({className:u.grouped,onChange:s?n:g,value:y,size:w,fullWidth:b,color:i,disabled:x}),[u.grouped,s,n,g,y,w,b,i,x]),a=xr(o),M=a.length,P=S=>{const z=S===0,E=S===M-1;return z&&E?"":z?u.firstButton:E?u.lastButton:u.middleButton};return t.jsx(Kr,R({role:"group",className:Y(u.root,p),ref:l,ownerState:I},A,{children:t.jsx(Rt.Provider,{value:h,children:a.map((S,z)=>t.jsx(kt.Provider,{value:P(z),children:S},z))})}))}),N={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"},Xr=({allmatches:e})=>{if(!(e!=null&&e.aggregatedResults))return t.jsx(U,{sx:{p:4,textAlign:"center",bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:t.jsx(j,{variant:"h6",sx:{color:N.textSecondary},children:"No aggregated results available"})});const r={};Object.values(e.aggregatedResults).forEach(i=>{i.picks&&Object.entries(i.picks).forEach(([x,s])=>{r[x]||(r[x]={map:x,picks:0,bans:0}),r[x].picks+=s}),i.bans&&Object.entries(i.bans).forEach(([x,s])=>{r[x]||(r[x]={map:x,picks:0,bans:0}),r[x].bans+=s})});const l=Object.values(r).map(i=>({map:i.map.replace("de_",""),picks:i.picks,bans:i.bans,total:i.picks+i.bans})).filter(i=>i.total>0).sort((i,x)=>x.total-i.total);if(!(l.length>0))return t.jsx(U,{sx:{p:4,textAlign:"center",bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:t.jsx(j,{variant:"h6",sx:{color:N.textSecondary},children:"No pick or ban data available"})});const o=({active:i,payload:x,label:s})=>i&&x&&x.length?t.jsxs(W,{sx:{p:2,bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:N.textPrimary},children:s}),x.map((b,m)=>t.jsxs(W,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(W,{sx:{width:12,height:12,backgroundColor:b.color}}),t.jsxs(j,{variant:"body2",sx:{color:N.textPrimary},children:[b.name,": ",t.jsx("strong",{children:b.value})]})]},m)),t.jsxs(j,{variant:"body2",sx:{mt:1,fontWeight:"bold",color:N.accent},children:["Total: ",t.jsx("strong",{children:x.reduce((b,m)=>b+m.value,0)})]})]}):null,p=i=>{const{payload:x}=i;return t.jsx(W,{sx:{display:"flex",justifyContent:"center",gap:3,mt:1},children:x.map((s,b)=>t.jsxs(W,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(W,{sx:{width:16,height:16,backgroundColor:s.color}}),t.jsx(j,{variant:"body2",sx:{fontWeight:"500",color:N.textPrimary},children:s.value})]},b))})};return t.jsxs(U,{sx:{p:3,height:500,bgcolor:N.bgCard,border:`1px solid ${N.border}`},children:[t.jsx(j,{variant:"overline",sx:{mb:1,display:"block",textAlign:"center",fontWeight:"bold",color:N.accent,letterSpacing:2},children:"MAP ANALYTICS"}),t.jsx(j,{variant:"h6",sx:{mb:3,textAlign:"center",fontWeight:"600",color:N.textPrimary},children:"Pick / Ban Statistics"}),t.jsx(St,{width:"100%",height:"85%",children:t.jsxs(Mt,{data:l,layout:"vertical",margin:{top:20,right:30,left:80,bottom:20},children:[t.jsx(jt,{type:"number",tick:{fill:N.textSecondary,fontSize:12},axisLine:!1,tickLine:!1}),t.jsx(yt,{type:"category",dataKey:"map",tick:{fill:N.textPrimary,fontSize:12,fontWeight:500},width:80,axisLine:!1,tickLine:!1}),t.jsx(Ct,{content:t.jsx(o,{})}),t.jsx(Bt,{content:p}),t.jsx(ke,{dataKey:"picks",name:"Picks",fill:N.green,radius:[0,4,4,0],barSize:35}),t.jsx(ke,{dataKey:"bans",name:"Bans",fill:N.red,radius:[0,4,4,0],barSize:35})]})})]})},qr=d.memo(Xr),Jr=({teams:e,playerStatsById:r,handleTeamClick:l,globalPlayers:c=[],defaultTeam:o=null})=>{var g;const p=()=>o&&(e!=null&&e.find(n=>n.name===o))?o:e&&e.length>0?e[0].name:"Rakkauden Kanaali",[i,x]=d.useState(p());d.useEffect(()=>{if(e&&e.length>0){if(o&&e.find(h=>h.name===o)){x(o);return}e.find(h=>h.name===i)||x(e[0].name)}},[e,i,o]);const[s,b]=d.useState({});d.useEffect(()=>{(async()=>{const h=(e==null?void 0:e.find(S=>S.name===i))||(e==null?void 0:e[0]);if(!h||!h.roster)return;const a=h.roster.map(S=>S.nickname).filter(S=>!s[S]);if(a.length===0)return;const M=await Promise.allSettled(a.map(async S=>{try{const z=await tr.fetchFaceitProfile(S);return{nickname:S,data:z}}catch{return{nickname:S,data:null}}})),P={};M.forEach(S=>{S.status==="fulfilled"&&S.value.data&&(P[S.value.nickname]=S.value.data)}),Object.keys(P).length>0&&b(S=>({...S,...P}))})()},[i,e]);const m=e!=null&&e.find(n=>n.name===i)?i:((g=e==null?void 0:e[0])==null?void 0:g.name)||"",B=d.useMemo(()=>(e==null?void 0:e.find(n=>n.name===m))||null,[e,m]),w=d.useMemo(()=>{if(!B)return[];const n={};return B.roster.forEach(h=>{var M,P;const a=((P=(M=r[h.player_id])==null?void 0:M.tournament_stats)==null?void 0:P.played_maps)||{};Object.entries(a).forEach(([S,z])=>{const E=S.endsWith("_wins"),k=E?S.replace("_wins",""):S;n[k]||(n[k]={played:0,wins:0}),E?n[k].wins=Math.max(n[k].wins,z):n[k].played=Math.max(n[k].played,z)})}),Object.entries(n).map(([h,{played:a,wins:M}])=>({map:h,played:a,wins:M,losses:a-M,winRate:a?(M/a*100).toFixed(1):0}))},[B,r]);if(!e||e.length===0)return t.jsx(W,{p:3,children:t.jsx(j,{children:"No team data available."})});const y=n=>{const h=n.target.value;x(h);const a=e.find(M=>M.name===h);a&&l(a)},A=[{field:"avatar",headerName:"",width:60,sortable:!1,display:"flex",renderCell:n=>{var h;return t.jsx(W,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:t.jsx(ve,{src:n.value,alt:n.row.nickname,variant:"rounded",sx:{width:32,height:32},children:(h=n.row.nickname)==null?void 0:h.charAt(0)})})}},{field:"nickname",headerName:"Player",flex:1,minWidth:150,renderCell:n=>t.jsx(W,{sx:{display:"flex",alignItems:"center",height:"100%"},children:t.jsx(j,{fontWeight:"bold",variant:"body2",children:n.value})})},{field:"faceitLevel",headerName:"Lvl",width:60,align:"center",headerAlign:"center",renderCell:n=>{const h=Number(n.value);let a="#666666";return h>=10?a="#de6c2c":h>=8?a="#ef4444":h>=6?a="#f59e0b":h>=4?a="#84cc16":h>=1&&(a="#22c55e"),t.jsx(W,{sx:{width:26,height:26,borderRadius:0,border:`2px solid ${a}`,bgcolor:"transparent",color:a,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:"0.8rem"},children:n.value!=="?"?n.value:"-"})}},{field:"faceitElo",headerName:"Elo",width:80,align:"center",headerAlign:"center",renderCell:n=>{const h=Number(n.value)||0;let a="#888888";return h>=2e3?a="#de6c2c":h>=1500?a="#ef4444":h>=1e3?a="#f59e0b":h>0&&(a="#84cc16"),t.jsx(j,{variant:"body2",sx:{color:a,fontFamily:'"Roboto Mono", monospace',fontWeight:600},children:n.value!=="-"?n.value:"â€”"})}},{field:"kd",headerName:"K/D",width:90,align:"center",headerAlign:"center",renderCell:n=>{const h=parseFloat(n.value);let a="#888888";return h>=1.3?a="#4ade80":h>=1?a="#e5e5e5":a="#ef4444",t.jsx(j,{variant:"body2",sx:{color:a,fontFamily:'"Roboto Mono", monospace',fontWeight:600},children:n.value})}},{field:"hsPercent",headerName:"HS %",width:90,align:"center",headerAlign:"center",renderCell:n=>t.jsx(j,{variant:"body2",sx:{color:"#de6c2c",fontFamily:'"Roboto Mono", monospace'},children:n.value})},{field:"kr",headerName:"K/R",width:90,align:"center",headerAlign:"center",renderCell:n=>t.jsx(j,{variant:"body2",sx:{color:"#888888",fontFamily:'"Roboto Mono", monospace'},children:n.value})},{field:"matches",headerName:"Matches",width:90,align:"center",headerAlign:"center",renderCell:n=>t.jsx(j,{variant:"body2",sx:{color:"#888888"},children:n.value||0})},{field:"winRate",headerName:"Win %",width:90,align:"center",headerAlign:"center",renderCell:n=>{const h=parseInt(n.value)||0;let a="#888888";return h>=55?a="#4ade80":h>=50?a="#e5e5e5":h>0&&(a="#ef4444"),t.jsx(j,{variant:"body2",sx:{color:a,fontWeight:600},children:n.value})}}],I=B?B.roster.map(n=>{var ae;const h=r[n.player_id]||{},a=h.stats||{},M=a.played_maps||{},P=a.Kills||a.kills||0,S=a.Deaths||a.deaths||1,z=a.Headshots||a.headshots||0,E=a.Rounds||a.rounds||1;let k=a.played_matches||a.Matches||a.matches||a.matchesPlayed||a.MatchesPlayed||0,ne=a.Wins||a.wins||0;!k&&Object.keys(M).length>0&&Object.entries(M).forEach(([X,q])=>{X.endsWith("_wins")||(k+=q)}),!ne&&Object.keys(M).length>0&&Object.entries(M).forEach(([X,q])=>{X.endsWith("_wins")&&(ne+=q)});const L=c.find(X=>X.nickname===n.nickname),O=s[n.nickname],V=(O==null?void 0:O.elo)||h.elo||h.faceit_elo||((ae=h.faceit)==null?void 0:ae.elo)||n.faceit_elo||n.elo||(L==null?void 0:L.elo)||(L==null?void 0:L.faceit_elo)||"-",le=(O==null?void 0:O.level)||h.faceit_lvl||h.game_skill_level||n.game_skill_level||n.faceit_lvl||(L==null?void 0:L.game_skill_level)||(L==null?void 0:L.faceit_lvl)||"?",ue=(O==null?void 0:O.avatar)||h.avatar||n.avatar||(L==null?void 0:L.avatar);return{id:n.player_id,nickname:n.nickname,avatar:ue,faceitLevel:le,faceitElo:V,kd:(P/S).toFixed(2),hsPercent:P?(z/P*100).toFixed(1)+"%":"0%",kr:(P/E).toFixed(2),matches:k,winRate:k?(ne/k*100).toFixed(0)+"%":"0%"}}):[],u={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"};return t.jsxs(W,{sx:{width:"100%",mt:1},children:[t.jsx(U,{sx:{p:3,mb:3,background:u.bgCard,borderBottom:`1px solid ${u.border}`,borderRadius:0},children:t.jsxs(D,{container:!0,alignItems:"center",spacing:3,children:[t.jsxs(D,{item:!0,xs:12,md:6,children:[t.jsx(j,{variant:"overline",sx:{color:u.accent,letterSpacing:2,fontWeight:600},children:"ROSTER ANALYSIS"}),t.jsx(j,{variant:"h5",fontWeight:"bold",sx:{color:u.textPrimary,mt:.5},children:"Team Scouting"})]}),t.jsx(D,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"left",md:"right"}},children:t.jsxs(Ne,{fullWidth:!0,size:"small",sx:{maxWidth:300},children:[t.jsx(Ae,{id:"team-select-label",sx:{color:u.textSecondary},children:"Select Team"}),t.jsx(ze,{labelId:"team-select-label",value:m,label:"Select Team",onChange:y,sx:{color:u.textPrimary,bgcolor:u.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:u.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:u.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:u.accent},"& .MuiSvgIcon-root":{color:u.textSecondary}},children:e.map(n=>t.jsx(fe,{value:n.name,children:n.name},n.team_id))})]})})]})}),t.jsxs(D,{container:!0,spacing:3,children:[t.jsx(D,{item:!0,xs:12,lg:12,children:t.jsx(U,{sx:{height:500,width:"100%",bgcolor:u.bgCard,border:`1px solid ${u.border}`,borderRadius:0,overflow:"hidden"},children:t.jsx(Ie,{rows:I,columns:A,disableRowSelectionOnClick:!0,rowHeight:60,slots:{toolbar:sr},sx:{border:0,color:u.textPrimary,fontFamily:'"Inter", "Roboto", sans-serif',"& .MuiDataGrid-columnHeaders":{bgcolor:u.bgDark,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1.5,borderBottom:`1px solid ${u.border}`,color:u.textSecondary},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${u.border}`},"& .MuiDataGrid-row:hover":{bgcolor:u.bgHover},"& .MuiTablePagination-root":{color:u.textSecondary},"& .MuiDataGrid-toolbarContainer":{p:2,borderBottom:`1px solid ${u.border}`},"& .MuiButton-root":{color:u.textSecondary,"&:hover":{color:u.accent}},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:700}}})})}),t.jsx(D,{item:!0,xs:12,children:t.jsx(wt,{sx:{bgcolor:u.bgCard,border:`1px solid ${u.border}`,borderRadius:0},children:t.jsxs(Tt,{children:[t.jsx(j,{variant:"overline",sx:{color:u.accent,letterSpacing:2,fontWeight:600},children:"MAP POOL"}),t.jsx(j,{variant:"h6",fontWeight:"bold",sx:{color:u.textPrimary,mt:.5},children:"Performance Analysis"}),t.jsx(W,{sx:{height:400,width:"100%",mt:2},children:t.jsx(St,{children:t.jsxs(Mt,{data:w,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(jt,{dataKey:"map",stroke:u.textSecondary,tick:{fill:u.textSecondary,fontSize:11}}),t.jsx(yt,{stroke:u.textSecondary,tick:{fill:u.textSecondary,fontSize:11}}),t.jsx(Ct,{contentStyle:{backgroundColor:u.bgDark,border:`1px solid ${u.border}`,color:u.textPrimary,borderRadius:0},cursor:{fill:"rgba(255,255,255,0.03)"}}),t.jsx(Bt,{wrapperStyle:{paddingTop:"20px"}}),t.jsx(ke,{dataKey:"wins",name:"Wins",fill:u.green,radius:0}),t.jsx(ke,{dataKey:"losses",name:"Losses",fill:u.red,radius:0})]})})})]})})})]})]})},Zr=d.memo(Jr);var Ge={},Qr=oe;Object.defineProperty(Ge,"__esModule",{value:!0});var zt=Ge.default=void 0,eo=Qr(re()),to=t;zt=Ge.default=(0,eo.default)((0,to.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event");const C={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentHover:"#ff7c3c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80"},ro=({matches:e})=>{const[r,l]=d.useState("FINISHED"),c=(s,b)=>{b&&l(b)},p=[...Array.isArray(e)?e.filter(s=>r==="FINISHED"?s.status==="FINISHED":r==="SCHEDULED"?s.status==="SCHEDULED":!0):[]].sort((s,b)=>{const m=new Date(s.scheduled_at),B=new Date(b.scheduled_at);return r==="FINISHED"?B-m:m-B}),i=[{field:"date",headerName:"Date",width:150,renderCell:s=>{const b=new Date(s.row.scheduled_at);return t.jsxs($e,{justifyContent:"center",height:"100%",children:[t.jsx(j,{variant:"body2",fontWeight:"bold",sx:{color:C.textPrimary},children:b.toLocaleDateString()}),t.jsx(j,{variant:"caption",sx:{color:C.textSecondary},children:b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}},{field:"matchup",headerName:"Matchup",flex:1,renderCell:s=>{var b,m;return t.jsxs($e,{direction:"row",alignItems:"center",spacing:2,sx:{width:"100%",height:"100%"},children:[t.jsxs(W,{sx:{flex:1,textAlign:"right",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},children:[t.jsx(j,{fontWeight:"bold",noWrap:!0,sx:{color:C.textPrimary},children:s.row.faction1_name}),t.jsx(ve,{sx:{width:24,height:24,bgcolor:C.accent,fontSize:"0.7rem",color:C.textPrimary},children:(b=s.row.faction1_name)==null?void 0:b[0]})]}),t.jsx(_e,{label:s.row.results?`${s.row.results.score1} : ${s.row.results.score2}`:"VS",size:"small",sx:{fontWeight:"bold",minWidth:60,bgcolor:s.row.status==="FINISHED"?C.bgHover:C.accent,color:C.textPrimary,border:`1px solid ${C.border}`}}),t.jsxs(W,{sx:{flex:1,textAlign:"left",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:1},children:[t.jsx(ve,{sx:{width:24,height:24,bgcolor:C.green,fontSize:"0.7rem",color:C.bgDark},children:(m=s.row.faction2_name)==null?void 0:m[0]}),t.jsx(j,{fontWeight:"bold",noWrap:!0,sx:{color:C.textPrimary},children:s.row.faction2_name})]})]})}},{field:"map",headerName:"Map",width:120,align:"center",headerAlign:"center",renderCell:s=>{var b,m;return t.jsx($e,{justifyContent:"center",height:"100%",children:t.jsx(_e,{label:((m=(b=s.row.voting)==null?void 0:b.map)==null?void 0:m.pick[0])||"Unknown",variant:"outlined",size:"small",sx:{textTransform:"capitalize",color:C.textSecondary,borderColor:C.border}})})}}],x=p.map((s,b)=>({id:b,...s}));return t.jsxs(W,{sx:{width:"100%",mt:2},children:[t.jsxs(W,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsxs(j,{variant:"h5",fontWeight:"bold",sx:{display:"flex",alignItems:"center",gap:1,color:C.textPrimary},children:[t.jsx(zt,{fontSize:"medium",sx:{color:C.accent}})," Match Schedule"]}),t.jsxs(Yr,{value:r,exclusive:!0,onChange:c,"aria-label":"match status",size:"small",sx:{bgcolor:C.bgCard,border:`1px solid ${C.border}`,"& .MuiToggleButton-root":{color:C.textSecondary,border:"none",px:3,textTransform:"uppercase",letterSpacing:1,fontSize:"0.75rem","&.Mui-selected":{bgcolor:C.accent,color:C.textPrimary,"&:hover":{bgcolor:C.accentHover}},"&:hover":{bgcolor:C.bgHover}}},children:[t.jsx(ft,{value:"FINISHED",children:"Completed"}),t.jsx(ft,{value:"SCHEDULED",children:"Upcoming"})]})]}),t.jsx(U,{sx:{height:600,width:"100%",bgcolor:C.bgCard,border:`1px solid ${C.border}`,overflow:"hidden"},children:t.jsx(Ie,{rows:x,columns:i,rowHeight:70,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25],sx:{border:0,color:C.textPrimary,"& .MuiDataGrid-columnHeaders":{bgcolor:C.bgDark,borderBottom:`1px solid ${C.border}`,textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:1,color:C.textSecondary},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${C.border}`},"& .MuiDataGrid-row:hover":{bgcolor:C.bgHover},"& .MuiTablePagination-root":{color:C.textSecondary},"& .MuiIconButton-root":{color:C.textSecondary},"& .MuiDataGrid-footerContainer":{borderTop:`1px solid ${C.border}`}}})})]})},oo=d.memo(ro);var Ve={},no=oe;Object.defineProperty(Ve,"__esModule",{value:!0});var Le=Ve.default=void 0,lo=no(re()),ao=t;Le=Ve.default=(0,lo.default)((0,ao.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"}),"Grid3x3");var Ue={},io=oe;Object.defineProperty(Ue,"__esModule",{value:!0});var It=Ue.default=void 0,so=io(re()),co=t;It=Ue.default=(0,so.default)((0,co.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents");var Ke={},uo=oe;Object.defineProperty(Ke,"__esModule",{value:!0});var _t=Ke.default=void 0,ho=uo(re()),bt=t;_t=Ke.default=(0,ho.default)([(0,bt.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,bt.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");const pt=d.memo(({teamName:e,isHome:r,players:l})=>{const p=r?"#de6c2c":"#4ade80",i=l!=null&&l.length?Math.round(l.reduce((x,s)=>x+(s.game_skill_level||5),0)/l.length):0;return t.jsx(wt,{elevation:0,sx:{height:"100%",background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.08)",borderTop:`3px solid ${p}`,borderRadius:0,position:"relative",overflow:"visible"},children:t.jsxs(Tt,{sx:{textAlign:"center",pt:4},children:[t.jsx(ve,{sx:{width:80,height:80,margin:"0 auto",mb:2,bgcolor:"transparent",color:p,fontSize:"2rem",fontWeight:"bold",border:`2px solid ${p}`,borderRadius:0},children:e==null?void 0:e.charAt(0)}),t.jsx(j,{variant:"h5",fontWeight:"800",sx:{mb:1,textTransform:"uppercase",letterSpacing:2,color:"#e5e5e5"},children:e}),t.jsx(_e,{label:r?"YOUR TEAM":"OPPONENT",size:"small",sx:{bgcolor:"transparent",color:p,border:`1px solid ${p}`,borderRadius:0,fontSize:"0.65rem",letterSpacing:1,mb:3}}),t.jsxs($e,{direction:"row",justifyContent:"center",spacing:4,divider:t.jsx(ur,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(255,255,255,0.08)"}}),children:[t.jsxs(W,{children:[t.jsx(j,{variant:"caption",sx:{color:"#888888",textTransform:"uppercase",letterSpacing:1},children:"Avg Level"}),t.jsx(j,{variant:"h5",fontWeight:"bold",sx:{color:"#e5e5e5"},children:i||"-"})]}),t.jsxs(W,{children:[t.jsx(j,{variant:"caption",sx:{color:"#888888",textTransform:"uppercase",letterSpacing:1},children:"Players"}),t.jsx(j,{variant:"h5",fontWeight:"bold",sx:{color:"#e5e5e5"},children:(l==null?void 0:l.length)||0})]})]})]})})}),xo=({teams:e,matches:r,playerStatsById:l,defaultTeam:c=null})=>{const o={bgDark:"#0d0d0d",bgCard:"#1a1a1a",accent:"#de6c2c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)"},p=()=>{var g;return c&&(e!=null&&e.find(n=>n.name===c))?c:((g=e==null?void 0:e[0])==null?void 0:g.name)||""},[i,x]=d.useState(p()),[s,b]=d.useState(null),[m,B]=d.useState("");d.useEffect(()=>{if(e&&e.length>0){if(c&&e.find(g=>g.name===c)){x(c);return}e.find(g=>g.name===i)||x(e[0].name)}},[e,i,c]),d.useEffect(()=>{if(i&&r&&r.length>0){const g=r.filter(n=>n.status==="SCHEDULED"&&(n.faction1_name===i||n.faction2_name===i));if(g.sort((n,h)=>new Date(n.scheduled_at)-new Date(h.scheduled_at)),g.length>0){const n=g[0];b(n),B(n.faction1_name===i?n.faction2_name:n.faction1_name)}else b(null),B("")}},[i,r]);const w=e.find(g=>g.name===i),y=e.find(g=>g.name===m),A=g=>!g||!g.roster?[]:g.roster.map(n=>{const h=l[n.player_id]||{};return{id:n.player_id,nickname:n.nickname,avatar:n.avatar||"",elo:n.game_skill_level||0,kd:h.kd?parseFloat(h.kd).toFixed(2):"-",matches:h.matches||0,winRate:h.win_rate||"-"}}),I=[{field:"nickname",headerName:"Player",flex:1,renderCell:g=>{var n;return t.jsxs(W,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ve,{src:g.row.avatar,sx:{width:24,height:24},children:(n=g.value)==null?void 0:n[0]}),t.jsx(j,{fontWeight:"bold",variant:"body2",children:g.value})]})}},{field:"elo",headerName:"Level",width:70,align:"center",headerAlign:"center"},{field:"kd",headerName:"K/D",width:70,align:"center",headerAlign:"center"},{field:"matches",headerName:"Games",width:70,align:"center",headerAlign:"center"}];if(!s)return t.jsxs(W,{children:[t.jsx(U,{sx:{p:2,mb:3,bgcolor:o.bgCard,border:`1px solid ${o.border}`,borderRadius:0},children:t.jsxs(D,{container:!0,alignItems:"center",spacing:2,children:[t.jsx(D,{item:!0,children:t.jsx(j,{variant:"overline",sx:{color:o.accent,letterSpacing:2,fontWeight:600},children:"SELECT YOUR TEAM"})}),t.jsx(D,{item:!0,xs:!0,children:t.jsxs(Ne,{fullWidth:!0,size:"small",children:[t.jsx(Ae,{sx:{color:o.textSecondary},children:"Team"}),t.jsx(ze,{value:i,label:"Team",onChange:g=>x(g.target.value),sx:{color:o.textPrimary,bgcolor:o.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:o.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:o.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:o.accent},"& .MuiSvgIcon-root":{color:o.textSecondary}},children:e==null?void 0:e.map(g=>t.jsx(fe,{value:g.name,children:g.name},g.team_id))})]})})]})}),t.jsxs(U,{elevation:0,sx:{textAlign:"center",py:10,opacity:.8,background:o.bgCard,border:`1px dashed ${o.border}`,borderRadius:0},children:[t.jsx(It,{sx:{fontSize:60,mb:2,opacity:.3,color:o.textSecondary}}),t.jsx(j,{variant:"h5",fontWeight:"bold",gutterBottom:!0,sx:{color:o.textPrimary},children:"No Upcoming Matches"}),t.jsxs(j,{sx:{color:o.textSecondary},children:["There are no scheduled matches for ",i," in the calendar."]})]})]});const u=new Date(s.scheduled_at);return t.jsxs(W,{children:[t.jsx(U,{sx:{p:2,mb:3,bgcolor:o.bgCard,border:`1px solid ${o.border}`,borderRadius:0},children:t.jsxs(D,{container:!0,alignItems:"center",spacing:2,children:[t.jsx(D,{item:!0,children:t.jsx(j,{variant:"overline",sx:{color:o.accent,letterSpacing:2,fontWeight:600},children:"SELECT YOUR TEAM"})}),t.jsx(D,{item:!0,xs:!0,children:t.jsxs(Ne,{fullWidth:!0,size:"small",children:[t.jsx(Ae,{sx:{color:o.textSecondary},children:"Team"}),t.jsx(ze,{value:i,label:"Team",onChange:g=>x(g.target.value),sx:{color:o.textPrimary,bgcolor:o.bgDark,borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:o.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:o.accent},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:o.accent},"& .MuiSvgIcon-root":{color:o.textSecondary}},children:e==null?void 0:e.map(g=>t.jsx(fe,{value:g.name,children:g.name},g.team_id))})]})})]})}),t.jsxs(U,{sx:{p:{xs:2,md:5},mb:4,background:o.bgCard,textAlign:"center",border:`1px solid ${o.border}`,position:"relative",overflow:"hidden",borderRadius:0},children:[t.jsx(_e,{icon:t.jsx(_t,{sx:{color:`${o.textSecondary} !important`}}),label:u.toLocaleString([],{weekday:"long",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),variant:"outlined",sx:{mb:3,borderColor:o.border,color:o.textSecondary,bgcolor:o.bgDark,borderRadius:0}}),t.jsx(j,{variant:"h1",fontWeight:"900",sx:{fontSize:{xs:"3rem",md:"5rem"},color:o.accent,letterSpacing:8,mb:4,lineHeight:1},children:"VS"}),t.jsxs(D,{container:!0,spacing:4,alignItems:"center",justifyContent:"center",children:[t.jsx(D,{item:!0,xs:12,md:5,children:t.jsx(pt,{teamName:i,isHome:!0,players:(w==null?void 0:w.roster)||[]})}),t.jsx(D,{item:!0,xs:12,md:5,children:t.jsx(pt,{teamName:m,isHome:!1,players:(y==null?void 0:y.roster)||[]})})]})]}),t.jsxs(D,{container:!0,spacing:4,children:[t.jsxs(D,{item:!0,xs:12,md:6,children:[t.jsxs(j,{variant:"overline",sx:{display:"flex",alignItems:"center",gap:1,color:o.accent,letterSpacing:2,fontWeight:600,mb:1},children:[t.jsx(Le,{fontSize:"small"})," ",i]}),t.jsx(U,{sx:{height:400,width:"100%",bgcolor:o.bgCard,border:`1px solid ${o.border}`,borderRadius:0},children:t.jsx(Ie,{rows:A(w),columns:I,hideFooter:!0,density:"compact",sx:{border:0,color:o.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${o.border}`},"& .MuiDataGrid-columnHeaders":{bgcolor:o.bgDark,borderBottom:`1px solid ${o.border}`,color:o.textSecondary,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1}}})})]}),t.jsxs(D,{item:!0,xs:12,md:6,children:[t.jsxs(j,{variant:"overline",sx:{display:"flex",alignItems:"center",gap:1,color:"#4ade80",letterSpacing:2,fontWeight:600,mb:1},children:[t.jsx(Le,{fontSize:"small"})," ",m]}),t.jsx(U,{sx:{height:400,width:"100%",bgcolor:o.bgCard,border:`1px solid ${o.border}`,borderRadius:0},children:t.jsx(Ie,{rows:A(y),columns:I,hideFooter:!0,density:"compact",sx:{border:0,color:o.textPrimary,"& .MuiDataGrid-cell":{borderBottom:`1px solid ${o.border}`},"& .MuiDataGrid-columnHeaders":{bgcolor:o.bgDark,borderBottom:`1px solid ${o.border}`,color:o.textSecondary,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:1}}})})]})]})]})},fo=d.memo(xo);var Ye={},bo=oe;Object.defineProperty(Ye,"__esModule",{value:!0});var Wt=Ye.default=void 0,po=bo(re()),go=t;Wt=Ye.default=(0,po.default)((0,go.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics");var Xe={},vo=oe;Object.defineProperty(Xe,"__esModule",{value:!0});var Pt=Xe.default=void 0,mo=vo(re()),So=t;Pt=Xe.default=(0,mo.default)((0,So.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var qe={},jo=oe;Object.defineProperty(qe,"__esModule",{value:!0});var Et=qe.default=void 0,yo=jo(re()),Co=t;Et=qe.default=(0,yo.default)((0,Co.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var Je={},Bo=oe;Object.defineProperty(Je,"__esModule",{value:!0});var Dt=Je.default=void 0,Mo=Bo(re()),wo=t;Dt=Je.default=(0,Mo.default)((0,wo.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");const F={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentHover:"#ff7c3c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444"},Io=()=>{const e=rr(),{teams:r,loading:l,player:c,matches:o,allmatches:p={}}=Oe(a=>a.pappa||{}),i=Oe(a=>a.stats.players),x=Oe(a=>a.user.user),s=(x==null?void 0:x.username)==="Zooze"?"Rakkauden Kanaali":null,[b,m]=d.useState(12),[B,w]=d.useState(0),[y,A]=d.useState(null),[I,u]=d.useState({});d.useEffect(()=>{e(or(b,12)),e(nr(b,12)),e(lr(b,12))},[e,b]),d.useEffect(()=>{c&&c.player_id&&u(a=>({...a,[c.player_id]:c}))},[c]);const g=d.useCallback(a=>{a.roster.forEach(M=>{e(ar(M.player_id))}),A(M=>M===a.name?null:a.name)},[e]),n=d.useCallback((a,M)=>{w(M)},[]),h=d.useCallback(a=>{m(Number(a.target.value)),A(null),u({})},[]);return t.jsxs(W,{sx:{minHeight:"100vh",bgcolor:F.bgDark,color:F.textPrimary,pb:4},children:[t.jsx(U,{elevation:0,sx:{background:`linear-gradient(135deg, ${F.bgDark} 0%, ${F.bgCard} 100%)`,pt:4,pb:2,px:3,borderBottom:`1px solid ${F.border}`},children:t.jsxs(dt,{maxWidth:"xl",children:[t.jsxs(D,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:2,children:[t.jsxs(D,{item:!0,children:[t.jsx(j,{variant:"overline",sx:{color:F.accent,letterSpacing:3,fontWeight:"bold",fontSize:"0.7rem"},children:"CS2 ANALYTICS"}),t.jsx(j,{variant:"h3",sx:{fontWeight:800,color:F.textPrimary,letterSpacing:"-0.02em"},children:"Scouting Report"})]}),t.jsx(D,{item:!0,children:t.jsxs(W,{sx:{display:"flex",alignItems:"center",gap:2,bgcolor:F.bgCard,p:1.5,borderRadius:1,border:`1px solid ${F.border}`},children:[t.jsx(j,{variant:"caption",sx:{color:F.textSecondary,ml:1,textTransform:"uppercase",fontWeight:600,letterSpacing:1},children:"Division"}),t.jsxs(ze,{value:b,onChange:h,variant:"standard",disableUnderline:!0,sx:{color:F.accent,fontWeight:"bold",fontSize:"1.1rem",px:2,py:.5,borderRadius:0,bgcolor:"transparent","&:hover":{color:F.accentHover}},children:[t.jsx(fe,{value:6,children:"Division 6"}),t.jsx(fe,{value:12,children:"Division 12"}),t.jsx(fe,{value:16,children:"Division 16"})]})]})})]}),t.jsxs(Dr,{value:B,onChange:n,sx:{mt:4,"& .MuiTab-root":{color:F.textSecondary,fontWeight:600,textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:1,minHeight:48,transition:"color 0.2s","&:hover":{color:F.textPrimary}},"& .Mui-selected":{color:`${F.accent} !important`},"& .MuiTabs-indicator":{backgroundColor:F.accent,height:2}},children:[t.jsx(we,{icon:t.jsx(Dt,{fontSize:"small"}),iconPosition:"start",label:"Head-to-Head"}),t.jsx(we,{icon:t.jsx(Et,{fontSize:"small"}),iconPosition:"start",label:"Teams & Players"}),t.jsx(we,{icon:t.jsx(Wt,{fontSize:"small"}),iconPosition:"start",label:"Map Stats"}),t.jsx(we,{icon:t.jsx(Pt,{fontSize:"small"}),iconPosition:"start",label:"Schedule"})]})]})}),t.jsx(dt,{maxWidth:"xl",sx:{mt:4},children:t.jsx(ir,{in:!l,timeout:500,children:t.jsxs(W,{children:[B===0&&t.jsx(fo,{teams:r,allmatches:p,matches:o,playerStatsById:I,loading:l,defaultTeam:b===12?s:null}),B===1&&t.jsx(Zr,{teams:r,playerStatsById:I,handleTeamClick:g,globalPlayers:i,expandedTeam:y,defaultTeam:b===12?s:null}),B===2&&t.jsx(qr,{allmatches:p}),B===3&&t.jsx(oo,{matches:o})]})})})]})};export{Io as default};
