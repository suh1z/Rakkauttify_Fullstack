import{ag as g,j as e,r as j,n as l,T as a,C as H,k as te,l as w,p as re,v as se,az as ae,P as y}from"./index-0-uk0NCG.js";import{C as W,a as L,T as oe,G as x,L as ie}from"./Tooltip-DF4ySYiM.js";import{A as R}from"./Alert-C2doRBmb.js";import{A as ne}from"./Avatar-Dc3P5iUZ.js";import{R as z,X as D,Y as I,T as F,B as ce}from"./generateCategoricalChart-Co-s6jxU.js";import{R as le,b as de,P as xe,a as he,c as me,A as pe,d as je}from"./AreaChart-4trtr3zh.js";import{C as K}from"./CartesianGrid-JCi0erT6.js";import{B as ue}from"./BarChart-Z1MLKdc0.js";import"./useSlot-BqIbSbz0.js";import"./Close-CjSUbPKF.js";const ge=g(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),v=g(e.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),T=g(e.jsx("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),V=g([e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")],"LocalFireDepartment"),be=g(e.jsx("path",{d:"M17 10.43V2H7v8.43c0 .35.18.68.49.86l4.18 2.51-.99 2.34-3.41.29 2.59 2.24L9.07 22 12 20.23 14.93 22l-.78-3.33 2.59-2.24-3.41-.29-.99-2.34 4.18-2.51c.3-.18.48-.5.48-.86m-4 1.8-1 .6-1-.6V3h2z"}),"MilitaryTech"),fe=g(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),ye=g(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),ve=g(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),E=g(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),Se=g(e.jsx("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67M11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8"}),"Whatshot"),t={bgDark:"#0d0d0d",bgCard:"#1a1a1a",bgHover:"#252525",accent:"#de6c2c",accentHover:"#ff7c3c",textPrimary:"#e5e5e5",textSecondary:"#888888",border:"rgba(255,255,255,0.08)",green:"#4ade80",red:"#ef4444",gold:"#ffd700",silver:"#c0c0c0",bronze:"#cd7f32",purple:"#a855f7",blue:"#3b82f6"},$={zooze:"Turkulainen"},P=[{id:"first_blood",name:"First Blood",description:"Play your first match",icon:"gavel",tier:"bronze"},{id:"headhunter",name:"Headhunter",description:"Achieve 50%+ headshot percentage",icon:"target",tier:"silver"},{id:"terminator",name:"Terminator",description:"Get 1.5+ K/D ratio",icon:"fire",tier:"gold"},{id:"veteran",name:"Veteran",description:"Play 50+ matches",icon:"medal",tier:"silver"},{id:"centurion",name:"Centurion",description:"Play 100+ matches",icon:"trophy",tier:"gold"},{id:"hot_streak",name:"Hot Streak",description:"Win 5 matches in a row",icon:"fire",tier:"silver"},{id:"consistent",name:"Consistent",description:"Maintain 1.0+ K/D for 10 matches",icon:"chart",tier:"silver"},{id:"damage_dealer",name:"Damage Dealer",description:"Average 80+ ADR",icon:"fire",tier:"silver"}],Ce={bronze:t.bronze,silver:t.silver,gold:t.gold},ke=b=>({gavel:e.jsx(T,{}),target:e.jsx(v,{}),fire:e.jsx(V,{}),star:e.jsx(ve,{}),shield:e.jsx(ye,{}),medal:e.jsx(be,{}),trophy:e.jsx(v,{}),chart:e.jsx(E,{})})[b]||e.jsx(v,{}),S=j.memo(function({title:d,value:m,subtitle:h,icon:u,color:o}){return e.jsx(W,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,height:"100%",transition:"all 0.2s","&:hover":{bgcolor:t.bgHover,borderColor:o||t.accent}},children:e.jsx(L,{sx:{p:2.5},children:e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"body2",sx:{color:t.textSecondary,mb:.5},children:d}),e.jsx(a,{variant:"h4",sx:{color:o||t.textPrimary,fontWeight:700,fontFamily:"monospace"},children:m}),h&&e.jsx(a,{variant:"caption",sx:{color:t.textSecondary},children:h})]}),e.jsx(l,{sx:{color:o||t.accent,opacity:.7,"& svg":{fontSize:32}},children:u})]})})})}),Ae=j.memo(function({achievement:d,unlocked:m}){const h=Ce[d.tier]||t.bronze;return e.jsx(oe,{title:m?"Unlocked!":"Not yet unlocked",children:e.jsxs(W,{sx:{bgcolor:m?t.bgCard:"rgba(26,26,26,0.5)",border:`1px solid ${m?h:t.border}`,borderRadius:2,opacity:m?1:.5,transition:"all 0.3s",position:"relative","&:hover":m?{transform:"translateY(-2px)",boxShadow:`0 4px 20px ${h}40`}:{}},children:[m&&e.jsx(l,{sx:{position:"absolute",top:-8,right:-8,bgcolor:h,borderRadius:"50%",p:.5,display:"flex"},children:e.jsx(ge,{sx:{fontSize:14,color:"#000"}})}),e.jsxs(L,{sx:{p:2,textAlign:"center"},children:[e.jsx(l,{sx:{color:m?h:t.textSecondary,mb:1,"& svg":{fontSize:36}},children:ke(d.icon)}),e.jsx(a,{variant:"body2",sx:{color:m?t.textPrimary:t.textSecondary,fontWeight:600,mb:.5},children:d.name}),e.jsx(a,{variant:"caption",sx:{color:t.textSecondary,display:"block",lineHeight:1.3},children:d.description}),e.jsx(H,{label:d.tier.toUpperCase(),size:"small",sx:{mt:1,bgcolor:`${h}20`,color:h,fontWeight:600,fontSize:"0.65rem",height:20}})]})]})})});function He(){const b=te(),d=w(r=>r.user.user),m=w(r=>r.stats.players),h=w(r=>r.stats.playerStats),u=j.useMemo(()=>{if(!(d!=null&&d.username))return null;const r=d.username.toLowerCase();if($[r])return $[r];const c=m.find(n=>{var f;return((f=n.nickname)==null?void 0:f.toLowerCase())===r});return(c==null?void 0:c.nickname)||null},[d,m]),o=j.useMemo(()=>Array.isArray(h==null?void 0:h.details)?[...h.details]:[],[h]);j.useEffect(()=>{b(re())},[b]),j.useEffect(()=>{u&&b(se(u))},[u,b]);const s=j.useMemo(()=>{if(o.length===0)return null;const r=o.length,c=o.filter(i=>i.win).length,n=o.reduce((i,p)=>i+(parseInt(p.kills)||0),0),f=o.reduce((i,p)=>i+(parseInt(p.deaths)||0),0),k=o.reduce((i,p)=>i+(parseInt(p.assists)||0),0),U=o.reduce((i,p)=>i+(parseInt(p.headshotKills)||0),0),O=o.reduce((i,p)=>i+(parseFloat(p.adr)||0),0),Y=r>0?O/r:0,N=f>0?n/f:n,X=n>0?U/n*100:0,q=r>0?c/r*100:0;let A=0,M=0;const J=[...o].sort((i,p)=>new Date(p.date)-new Date(i.date));for(const i of J)i.win?(A++,M=Math.max(M,A)):A=0;const Q=Math.max(...o.map(i=>parseInt(i.kills)||0)),Z=Math.max(...o.map(i=>{const p=parseInt(i.kills)||0,ee=parseInt(i.deaths)||1;return p/ee}));return{matches:r,wins:c,losses:r-c,winRate:q.toFixed(1),kd:N.toFixed(2),kills:n,deaths:f,assists:k,adr:Y.toFixed(1),hsPercent:X.toFixed(1),maxStreak:M,bestKills:Q,bestKD:Z.toFixed(2)}},[o]),C=j.useMemo(()=>{if(!s)return new Set;const r=new Set;return s.matches>=1&&r.add("first_blood"),parseFloat(s.hsPercent)>=50&&r.add("headhunter"),parseFloat(s.kd)>=1.5&&r.add("terminator"),s.matches>=50&&r.add("veteran"),s.matches>=100&&r.add("centurion"),s.maxStreak>=5&&r.add("hot_streak"),parseFloat(s.kd)>=1&&s.matches>=10&&r.add("consistent"),parseFloat(s.adr)>=80&&r.add("damage_dealer"),r},[s]),G=j.useMemo(()=>s?[{stat:"K/D",value:Math.min(parseFloat(s.kd)*50,100)},{stat:"ADR",value:Math.min(parseFloat(s.adr)/1.2,100)},{stat:"HS%",value:parseFloat(s.hsPercent)},{stat:"Win%",value:parseFloat(s.winRate)},{stat:"Matches",value:Math.min(s.matches,100)},{stat:"Streak",value:Math.min(s.maxStreak*10,100)}]:[],[s]),B=j.useMemo(()=>o.length===0?[]:o.slice(0,15).reverse().map((r,c)=>{const n=parseInt(r.kills)||0,f=parseInt(r.deaths)||1,k=n/Math.max(f,1);return{match:r.map?r.map.replace("de_","").substring(0,5):`#${c+1}`,kd:parseFloat(k.toFixed(2)),kills:n,win:r.win?1:0}}),[o]),_=j.useMemo(()=>{if(o.length===0)return[];const r={};return o.forEach(c=>{const n=c.map||"Unknown";r[n]||(r[n]={map:n,wins:0,losses:0,matches:0}),r[n].matches++,c.win?r[n].wins++:r[n].losses++}),Object.values(r).map(c=>({...c,winRate:(c.wins/c.matches*100).toFixed(0)})).sort((c,n)=>n.matches-c.matches).slice(0,6)},[o]);return d?e.jsxs(l,{sx:{p:3,maxWidth:1400,mx:"auto"},children:[e.jsx(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,flexWrap:"wrap",gap:2},children:e.jsxs(l,{children:[e.jsxs(a,{variant:"h4",sx:{color:t.textPrimary,fontWeight:700,display:"flex",alignItems:"center",gap:2},children:[e.jsx(fe,{sx:{color:t.accent}}),"My Stats"]}),e.jsx(a,{variant:"body2",sx:{color:t.textSecondary,mt:1},children:"Your personal performance dashboard"})]})}),s?e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(y,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,p:3,height:"100%"},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(ne,{sx:{width:64,height:64,bgcolor:t.accent,fontSize:24,fontWeight:700},children:u==null?void 0:u.charAt(0).toUpperCase()}),e.jsxs(l,{children:[e.jsx(a,{variant:"h6",sx:{color:t.textPrimary,fontWeight:600},children:u}),e.jsx(H,{label:`${s.matches} matches`,size:"small",sx:{bgcolor:`${t.accent}20`,color:t.accent}})]})]}),e.jsxs(l,{sx:{mb:2},children:[e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(a,{variant:"body2",sx:{color:t.textSecondary},children:"Achievement Progress"}),e.jsxs(a,{variant:"body2",sx:{color:t.accent},children:[C.size,"/",P.length]})]}),e.jsx(ie,{variant:"determinate",value:C.size/P.length*100,sx:{height:8,borderRadius:4,bgcolor:t.border,"& .MuiLinearProgress-bar":{bgcolor:t.accent,borderRadius:4}}})]}),e.jsx(a,{variant:"body2",sx:{color:t.textSecondary,mb:1},children:"Personal Bests"}),e.jsxs(x,{container:!0,spacing:1,children:[e.jsx(x,{item:!0,xs:6,children:e.jsxs(l,{sx:{p:1.5,bgcolor:t.bgHover,borderRadius:1,textAlign:"center"},children:[e.jsx(a,{variant:"h6",sx:{color:t.gold,fontWeight:700},children:s.bestKills}),e.jsx(a,{variant:"caption",sx:{color:t.textSecondary},children:"Most Kills"})]})}),e.jsx(x,{item:!0,xs:6,children:e.jsxs(l,{sx:{p:1.5,bgcolor:t.bgHover,borderRadius:1,textAlign:"center"},children:[e.jsx(a,{variant:"h6",sx:{color:t.gold,fontWeight:700},children:s.bestKD}),e.jsx(a,{variant:"caption",sx:{color:t.textSecondary},children:"Best K/D"})]})}),e.jsx(x,{item:!0,xs:6,children:e.jsxs(l,{sx:{p:1.5,bgcolor:t.bgHover,borderRadius:1,textAlign:"center"},children:[e.jsx(a,{variant:"h6",sx:{color:t.gold,fontWeight:700},children:s.maxStreak}),e.jsx(a,{variant:"caption",sx:{color:t.textSecondary},children:"Win Streak"})]})}),e.jsx(x,{item:!0,xs:6,children:e.jsxs(l,{sx:{p:1.5,bgcolor:t.bgHover,borderRadius:1,textAlign:"center"},children:[e.jsx(a,{variant:"h6",sx:{color:t.gold,fontWeight:700},children:s.assists}),e.jsx(a,{variant:"caption",sx:{color:t.textSecondary},children:"Total Assists"})]})})]})]})}),e.jsx(x,{item:!0,xs:12,md:8,children:e.jsxs(y,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,p:3},children:[e.jsx(a,{variant:"h6",sx:{color:t.textPrimary,mb:2},children:"Performance Profile"}),e.jsx(z,{width:"100%",height:280,children:e.jsxs(le,{data:G,children:[e.jsx(de,{stroke:t.border}),e.jsx(xe,{dataKey:"stat",tick:{fill:t.textSecondary,fontSize:12}}),e.jsx(he,{angle:30,domain:[0,100],tick:{fill:t.textSecondary,fontSize:10}}),e.jsx(me,{name:"Stats",dataKey:"value",stroke:t.accent,fill:t.accent,fillOpacity:.3})]})})]})}),e.jsx(x,{item:!0,xs:6,sm:3,children:e.jsx(S,{title:"K/D Ratio",value:s.kd,subtitle:`${s.kills}K / ${s.deaths}D`,icon:e.jsx(T,{}),color:parseFloat(s.kd)>=1?t.green:t.red})}),e.jsx(x,{item:!0,xs:6,sm:3,children:e.jsx(S,{title:"Headshot %",value:`${s.hsPercent}%`,icon:e.jsx(Se,{}),color:t.accent})}),e.jsx(x,{item:!0,xs:6,sm:3,children:e.jsx(S,{title:"Win Rate",value:`${s.winRate}%`,subtitle:`${s.wins}W / ${s.losses}L`,icon:e.jsx(v,{}),color:parseFloat(s.winRate)>=50?t.green:t.red})}),e.jsx(x,{item:!0,xs:6,sm:3,children:e.jsx(S,{title:"ADR",value:s.adr,subtitle:"Avg Damage/Round",icon:e.jsx(V,{}),color:t.blue})}),e.jsx(x,{item:!0,xs:12,md:8,children:e.jsxs(y,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,p:3},children:[e.jsxs(a,{variant:"h6",sx:{color:t.textPrimary,mb:2},children:[e.jsx(E,{sx:{mr:1,verticalAlign:"middle",color:t.green}}),"Recent Form (Last 15 Matches)"]}),e.jsx(z,{width:"100%",height:200,children:e.jsxs(pe,{data:B,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"formGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:t.accent,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:t.accent,stopOpacity:0})]})}),e.jsx(K,{strokeDasharray:"3 3",stroke:t.border}),e.jsx(D,{dataKey:"match",tick:{fill:t.textSecondary,fontSize:10}}),e.jsx(I,{tick:{fill:t.textSecondary,fontSize:10},domain:[0,"auto"]}),e.jsx(F,{contentStyle:{backgroundColor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:8}}),e.jsx(je,{type:"monotone",dataKey:"kd",stroke:t.accent,fill:"url(#formGrad)",strokeWidth:2,name:"K/D"})]})})]})}),e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(y,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,p:3},children:[e.jsx(a,{variant:"h6",sx:{color:t.textPrimary,mb:2},children:"Map Performance"}),e.jsx(z,{width:"100%",height:200,children:e.jsxs(ue,{data:_,layout:"vertical",children:[e.jsx(K,{strokeDasharray:"3 3",stroke:t.border}),e.jsx(D,{type:"number",domain:[0,100],tick:{fill:t.textSecondary,fontSize:10}}),e.jsx(I,{dataKey:"map",type:"category",tick:{fill:t.textSecondary,fontSize:10},width:60}),e.jsx(F,{contentStyle:{backgroundColor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:8},formatter:r=>[`${r}%`,"Win Rate"]}),e.jsx(ce,{dataKey:"winRate",fill:t.accent,radius:[0,4,4,0]})]})})]})}),e.jsx(x,{item:!0,xs:12,children:e.jsxs(y,{sx:{bgcolor:t.bgCard,border:`1px solid ${t.border}`,borderRadius:2,p:3},children:[e.jsxs(a,{variant:"h6",sx:{color:t.textPrimary,mb:3},children:[e.jsx(v,{sx:{mr:1,verticalAlign:"middle",color:t.accent}}),"Achievements"]}),e.jsx(x,{container:!0,spacing:2,children:P.map(r=>e.jsx(x,{item:!0,xs:6,sm:4,md:3,lg:2,children:e.jsx(Ae,{achievement:r,unlocked:C.has(r.id)})},r.id))})]})})]}):e.jsx(l,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"40vh"},children:d?u?e.jsx(ae,{sx:{color:t.accent}}):e.jsxs(R,{severity:"info",children:['No player data found for "',d.username,'". Contact admin to add your alias.']}):e.jsx(R,{severity:"warning",children:"Please log in to view your stats"})})]}):e.jsx(l,{sx:{p:4,textAlign:"center"},children:e.jsx(R,{severity:"info",children:"Please log in to view your stats dashboard."})})}export{He as default};
